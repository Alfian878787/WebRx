{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap d0adefa84c872c7d5a8b","webpack:///./build/src/es5/WebRx.Lite.js","webpack:///./build/src/es5/Core/Utils.js","webpack:///./build/src/es5/Core/Events.js","webpack:///./build/src/es5/IID.js","webpack:///./build/src/es5/Core/Property.js","webpack:///./build/src/es5/Core/Command.js","webpack:///./build/src/es5/Core/Injector.js","webpack:///./build/src/es5/Core/Resources.js","webpack:///./build/src/es5/Core/Oid.js","webpack:///./build/src/es5/Collections/List.js","webpack:///./build/src/es5/Core/Lazy.js","webpack:///./build/src/es5/Core/ScheduledSubject.js","webpack:///./build/src/es5/Core/RefCountDisposeWrapper.js","webpack:///./build/src/es5/Core/Log.js","webpack:///./build/src/es5/Collections/ListPaged.js","webpack:///./build/src/es5/Collections/ListSupport.js","webpack:///./build/src/es5/Collections/Map.js","webpack:///./build/src/es5/Collections/Set.js","webpack:///./build/src/es5/Collections/WeakMap.js","webpack:///./build/src/es5/Core/HttpClient.js","webpack:///./build/src/es5/RxExtensions.js","webpack:///./build/src/es5/Core/MessageBus.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;ACVA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;ACtCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gEAA+D,EAAE;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uC;;;;;;ACpDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAqC;AACrC,6BAA4B;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAU,IAAI;AACd,WAAU,OAAO;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAU,IAAI;AACd,WAAU,OAAO;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK,oBAAoB,uCAAuC,EAAE;AAClE;AACA;AACA;AACA;AACA,WAAU,IAAI;AACd;AACA;AACA;AACA;AACA;AACA,MAAK;AACL,uCAAsC,6BAA6B,EAAE;AACrE,mCAAkC,uBAAuB,EAAE;AAC3D;AACA;AACA;AACA;AACA,WAAU,IAAI;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAU,IAAI;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAU,IAAI;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAU,IAAI;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAU,IAAI;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAU,IAAI;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAsC,SAAS;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAU,OAAO;AACjB,WAAU,MAAM;AAChB;AACA;AACA;AACA,qBAAoB,uBAAuB;AAC3C;AACA;AACA,sBAAqB,KAAK;AAC1B;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAuB,qBAAqB;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;AACA;AACA,WAAU,KAAK;AACf,WAAU,QAAQ;AAClB,WAAU,SAAS;AACnB;AACA;AACA;AACA,qBAAoB,uBAAuB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA2B,uBAAuB;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA2B,uBAAuB;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAU,KAAK;AACf,WAAU,OAAO;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,YAAY;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,YAAY;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kFAAiF;AACjF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,YAAY;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,KAAK;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAU,eAAe;AACzB,WAAU,WAAW;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAU,OAAO;AACjB,YAAW,mBAAmB;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,WAAU,IAAI;AACd,YAAW,iBAAiB;AAC5B;AACA;AACA,iCAAgC,oBAAoB;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb,UAAS;AACT;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAkC,yBAAyB,EAAE;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAoB,uBAAuB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA,kC;;;;;;AC1hBA;AACA;AACA;AACA;AACA,yFAAwF,QAAQ;AAChG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA,mC;;;;;;ACfA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD,+CAA8C,cAAc;AAC5D;AACA,gC;;;;;;ACjBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAU,EAAE;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qC;;;;;;AChDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yFAAwF,kBAAkB,EAAE;AAC5G;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA,mCAAkC,EAAE,gBAAgB,qDAAqD,EAAE,eAAe,qDAAqD,EAAE;AACjL,mCAAkC,sCAAsC,EAAE,gBAAgB,yCAAyC,EAAE;AACrI;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;AACA;AACA;AACA,EAAC,uDAAuD;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb,UAAS;AACT;AACA;AACA;AACA;AACA,kDAAiD,gCAAgC,EAAE;AACnF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAU,IAAI;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oC;;;;;;AC9KA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAkC,EAAE;AACpC;AACA;AACA;AACA,8CAA6C,8BAA8B;AAC3E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0EAAyE,EAAE,QAAQ,EAAE,IAAI,EAAE;AAC3F;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA6C,YAAY;AACzD;AACA,oCAAmC;AACnC;AACA;AACA;AACA;AACA;AACA,uEAAsE,EAAE,OAAO,EAAE;AACjF;AACA;AACA;AACA,mCAAkC,EAAE;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yHAAwH,EAAE;AAC1H;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kEAAiE,EAAE,QAAQ,EAAE,IAAI,EAAE;AACnF;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA,sDAAqD,uBAAuB,EAAE;AAC9E,qC;;;;;;ACrGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sC;;;;;;ACZA;AACA;AACA;AACA;AACA;AACA,WAAU,IAAI;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,gC;;;;;;AC7BA;AACA;AACA;AACA;AACA,oBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA8C,4BAA4B;AAC1E,oCAAmC,kBAAkB;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA,UAAS;AACT;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA,UAAS;AACT;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,uFAAsF;AACtF,4CAA2C,EAAE,iBAAiB,iCAAiC,EAAE;AACjG,UAAS;AACT;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kDAAiD,2CAA2C,EAAE;AAC9F;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA,+CAA8C;AAC9C;AACA,iEAAgE,2BAA2B;AAC3F;AACA;AACA;AACA,2DAA0D,2BAA2B;AACrF;AACA;AACA;AACA;AACA,sBAAqB;AACrB;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;AACA,iEAAgE,4BAA4B;AAC5F;AACA;AACA;AACA,2DAA0D,4BAA4B;AACtF;AACA;AACA;AACA;AACA,sBAAqB;AACrB;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAwC,wBAAwB,EAAE;AAClE,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;AACA,mEAAkE,4BAA4B;AAC9F;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;AACA;AACA,6DAA4D,4BAA4B;AACxF;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0DAAyD,6BAA6B;AACtF;AACA;AACA;AACA;AACA;AACA;AACA,oDAAmD,6BAA6B;AAChF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA8C,4BAA4B;AAC1E,oCAAmC,kBAAkB;AACrD;AACA;AACA;AACA;AACA,wEAAuE,yBAAyB,EAAE;AAClG,kEAAiE,yBAAyB,EAAE;AAC5F,0EAAyE,yBAAyB,EAAE;AACpG,oEAAmE,yBAAyB,EAAE;AAC9F,0EAAyE,yBAAyB,EAAE;AACpG,oEAAmE,yBAAyB,EAAE;AAC9F;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,UAAS;AACT,wEAAuE,yBAAyB,EAAE;AAClG,kEAAiE,yBAAyB,EAAE;AAC5F,qFAAoF,cAAc,EAAE,0CAA0C,cAAc,EAAE,0CAA0C,cAAc,EAAE,wCAAwC,cAAc,EAAE,0CAA0C,aAAa,EAAE;AACzU;AACA;AACA,4FAA2F,cAAc,EAAE,gDAAgD,cAAc,EAAE,gDAAgD,cAAc,EAAE,8CAA8C,cAAc,EAAE,gDAAgD,aAAa,EAAE;AACxW;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAkC,kBAAkB,EAAE;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wDAAuD,6BAA6B;AACpF;AACA;AACA,kDAAiD,6BAA6B;AAC9E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0DAAyD,6BAA6B;AACtF;AACA;AACA,oDAAmD,6BAA6B;AAChF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA,+BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAkC,uEAAuE,EAAE;AAC3G;AACA,mCAAkC,uEAAuE,EAAE;AAC3G,4EAA2E,6CAA6C,EAAE,0BAA0B,iDAAiD,EAAE,+BAA+B,6CAA6C,EAAE,0BAA0B,gDAAgD,EAAE;AACjW;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,wGAAuG,kBAAkB,EAAE;AAC3H,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;AACA;AACA,WAAU,SAAS;AACnB,WAAU,aAAa;AACvB;AACA;AACA,2CAA0C,4BAA4B;AACtE,gCAA+B,kBAAkB;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oDAAmD,UAAU,EAAE;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+DAA8D,wBAAwB,EAAE;AACxF,wBAAuB,YAAY;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,UAAS;AACT;AACA;AACA,UAAS;AACT;AACA;AACA,UAAS;AACT;AACA;AACA,UAAS;AACT,oEAAmE,iBAAiB,EAAE;AACtF;AACA,sCAAqC,+BAA+B,EAAE;AACtE;AACA,iGAAgG,wBAAwB,EAAE;AAC1H;AACA;AACA;AACA;AACA,wBAAuB,oBAAoB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAuB,oBAAoB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA8C,wBAAwB,EAAE;AACxE;AACA,wBAAuB,oBAAoB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAuB,yBAAyB;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA2B,kBAAkB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA2B,kBAAkB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAuB,uCAAuC;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAuB,uCAAuC;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAuB,YAAY;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD,iC;;;;;;AC/iCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,MAAK;AACL;AACA,EAAC;AACD,+CAA8C,cAAc;AAC5D;AACA,iC;;;;;;ACxBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,EAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,6C;;;;;;ACjDA;AACA;AACA;AACA;AACA,0CAAyC,qBAAqB;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD,+CAA8C,cAAc;AAC5D;AACA,mD;;;;;;ACzBA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAoB,uBAAuB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAoB,uBAAuB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAoB,uBAAuB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAoB,uBAAuB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAoB,uBAAuB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gC;;;;;;ACnEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gGAA+F,wCAAwC,EAAE;AACzI;AACA;AACA;AACA;AACA,mHAAkH,+DAA+D,EAAE;AACnL;AACA;AACA;AACA;AACA,mCAAkC,gBAAgB,EAAE;AACpD;AACA;AACA;AACA,4EAA2E,iBAAiB,EAAE;AAC9F;AACA;AACA,wEAAuE,yBAAyB,EAAE;AAClG,kEAAiE,yBAAyB,EAAE;AAC5F,0EAAyE,yBAAyB,EAAE;AACpG,oEAAmE,yBAAyB,EAAE;AAC9F,0EAAyE,yBAAyB,EAAE;AACpG,oEAAmE,yBAAyB,EAAE;AAC9F;AACA;AACA,UAAS;AACT;AACA;AACA,UAAS;AACT,wEAAuE,yBAAyB,EAAE;AAClG,kEAAiE,yBAAyB,EAAE;AAC5F;AACA;AACA,qFAAoF,cAAc,EAAE,0CAA0C,cAAc,EAAE,0CAA0C,cAAc,EAAE,wCAAwC,cAAc,EAAE,0CAA0C,aAAa,EAAE;AACzU;AACA;AACA,4FAA2F,cAAc,EAAE,gDAAgD,cAAc,EAAE,gDAAgD,cAAc,EAAE,8CAA8C,cAAc,EAAE,gDAAgD,aAAa,EAAE;AACxW;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,UAAS;AACT;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,2FAA0F,aAAa,EAAE;AACzG;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA0B;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA,2BAA0B;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA0B;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA,sC;;;;;;AC9XA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAU,IAAI;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wC;;;;;;AChBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAuB,UAAU;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,wBAAuB,UAAU;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAU,QAAQ;AAClB,YAAW,kBAAkB;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gC;;;;;;ACjHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,MAAK;AACL;AACA,EAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAU,QAAQ;AAClB,YAAW,QAAQ;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA8B,uBAAuB,EAAE;AACvD;AACA;AACA;AACA,gC;;;;;;AC3FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,MAAK;AACL;AACA,EAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAU,QAAQ;AAClB,YAAW,kBAAkB;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oC;;;;;;AC/DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAwB,uBAAuB;AAC/C;AACA;AACA;AACA,oBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA,wBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAoC;AACpC;AACA;AACA;AACA;AACA,uCAAsC;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yFAAwF,mCAAmC,EAAE;AAC7H;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb,wEAAuE,+BAA+B,EAAE;AACxG,wEAAuE,+BAA+B,EAAE;AACxG,0EAAyE,+BAA+B,EAAE;AAC1G;AACA,wBAAuB;AACvB;AACA;AACA;AACA;AACA,wBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,qBAAoB;AACpB;AACA;AACA;AACA,qBAAoB;AACpB;AACA;AACA;AACA,qBAAoB;AACpB;AACA;AACA;AACA,qBAAoB;AACpB;AACA;AACA;AACA,qBAAoB;AACpB;AACA;AACA;AACA,qBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,sCAAqC,6BAA6B,EAAE;AACpE,iCAAgC,wBAAwB;AACxD;AACA;AACA,EAAC;AACD,+CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uC;;;;;;AC9JA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAqC;AACrC;AACA;AACA;AACA,WAAU,EAAE;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK,gBAAgB,4CAA4C,EAAE;AACnE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAAyC,YAAY,EAAE;AACvD;AACA;AACA;AACA;AACA;AACA,+BAA8B;AAC9B;AACA;AACA,MAAK,EAAE,EAAE;AACT,iCAAgC,wGAAwG,UAAU,EAAE,uBAAuB,UAAU,EAAE,EAAE,EAAE;AAC3L,+BAA8B,yEAAyE,EAAE;AACzG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sDAAqD,yBAAyB,EAAE;AAChF,UAAS;AACT,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,yC;;;;;;AClHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD,+CAA8C,cAAc;AAC5D;AACA,uC","file":"web.rx.lite.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"wx\"] = factory();\n\telse\n\t\troot[\"wx\"] = factory();\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap d0adefa84c872c7d5a8b\n **/","/// <reference path=\"./Interfaces.ts\" />\r\n\"use strict\";\r\nfunction __export(m) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n// WebRx Lite API-Surface (No UI functionality is included)\r\n__export(require(\"./Core/Utils\"));\r\nvar Property_1 = require(\"./Core/Property\");\r\nexports.property = Property_1.property;\r\nvar Command_1 = require(\"./Core/Command\");\r\nexports.command = Command_1.command;\r\nexports.asyncCommand = Command_1.asyncCommand;\r\nexports.isCommand = Command_1.isCommand;\r\nvar Oid_1 = require(\"./Core/Oid\");\r\nexports.getOid = Oid_1.getOid;\r\nvar List_1 = require(\"./Collections/List\");\r\nexports.list = List_1.list;\r\nvar ListSupport_1 = require(\"./Collections/ListSupport\");\r\nexports.isList = ListSupport_1.isList;\r\nvar Map_1 = require(\"./Collections/Map\");\r\nexports.createMap = Map_1.createMap;\r\nvar Set_1 = require(\"./Collections/Set\");\r\nexports.createSet = Set_1.createSet;\r\nexports.setToArray = Set_1.setToArray;\r\nvar WeakMap_1 = require(\"./Collections/WeakMap\");\r\nexports.createWeakMap = WeakMap_1.createWeakMap;\r\nvar Lazy_1 = require(\"./Core/Lazy\");\r\nexports.Lazy = Lazy_1.default;\r\nvar Injector_1 = require(\"./Core/Injector\");\r\nexports.injector = Injector_1.injector;\r\nvar IID_1 = require(\"./IID\");\r\nexports.IID = IID_1.default;\r\nvar HttpClient_1 = require(\"./Core/HttpClient\");\r\nexports.getHttpClientDefaultConfig = HttpClient_1.getHttpClientDefaultConfig;\r\nvar res = require(\"./Core/Resources\");\r\nexports.res = res;\r\n// install the Rx extensions manually (instead of in App which is not exported)\r\nvar RxExtensions_1 = require(\"./RxExtensions\");\r\nRxExtensions_1.install();\r\nvar MessageBus_1 = require(\"./Core/MessageBus\");\r\nvar HttpClient_2 = require(\"./Core/HttpClient\");\r\n// simulate a minimal App component\r\nexports.app = {\r\n    defaultExceptionHandler: Rx.Observer.create(function (ex) { }),\r\n    mainThreadScheduler: this._unitTestMainThreadScheduler || this._mainThreadScheduler || Rx.Scheduler.currentThread\r\n};\r\n// register the app, messageBus, and httpClient instances\r\nInjector_1.injector.register(res.app, exports.app)\r\n    .register(res.messageBus, [MessageBus_1.default], true)\r\n    .register(res.httpClient, [HttpClient_2.default], false);\r\n// manually export the messageBus (instead of in App which is not exported)\r\nexports.messageBus = Injector_1.injector.get(res.messageBus);\r\n//# sourceMappingURL=WebRx.Lite.js.map\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./build/src/es5/WebRx.Lite.js\n ** module id = 0\n ** module chunks = 0\n **/","/// <reference path=\"../Interfaces.ts\" />\r\n\"use strict\";\r\nvar Events_1 = require(\"./Events\");\r\nvar IID_1 = require(\"../IID\");\r\n/*\r\n* Global helpers\r\n*/\r\n\"use strict\";\r\nvar regexCssClassName = /\\S+/g;\r\nvar RxObsConstructor = Rx.Observable; // the cast is neccessary because the rx.js.d.ts declares Observable as an interface\r\nexports.noop = function () { };\r\n/**\r\n* Returns true if a ECMAScript5 strict-mode is active\r\n*/\r\nfunction isStrictMode() {\r\n    return typeof this === \"undefined\";\r\n}\r\nexports.isStrictMode = isStrictMode;\r\n/**\r\n* Returns true if target is a javascript primitive\r\n*/\r\nfunction isPrimitive(target) {\r\n    var t = typeof target;\r\n    return t === \"boolean\" || t === \"number\" || t === \"string\";\r\n}\r\nexports.isPrimitive = isPrimitive;\r\n/**\r\n* Tests if the target supports the interface\r\n* @param {any} target\r\n* @param {string} iid\r\n*/\r\nfunction queryInterface(target, iid) {\r\n    if (target == null || isPrimitive(target))\r\n        return false;\r\n    var unk = target;\r\n    if (!isFunction(unk.queryInterface))\r\n        return false;\r\n    return unk.queryInterface(iid);\r\n}\r\nexports.queryInterface = queryInterface;\r\n/**\r\n* Returns all own properties of target implementing interface iid\r\n* @param {any} target\r\n* @param {string} iid\r\n*/\r\nfunction getOwnPropertiesImplementingInterface(target, iid) {\r\n    return Object.keys(target).filter(function (propertyName) {\r\n        // lookup object for name\r\n        var o = target[propertyName];\r\n        // is it an ObservableProperty?\r\n        return queryInterface(o, iid);\r\n    }).map(function (x) { return new PropertyInfo(x, target[x]); });\r\n}\r\nexports.getOwnPropertiesImplementingInterface = getOwnPropertiesImplementingInterface;\r\n/**\r\n* Disposes all disposable members of an object\r\n* @param {any} target\r\n*/\r\nfunction disposeMembers(target) {\r\n    Object.keys(target).filter(function (propertyName) {\r\n        var disp = target[propertyName];\r\n        return disp != null && isFunction(disp.dispose);\r\n    })\r\n        .map(function (propertyName) { return target[propertyName]; })\r\n        .forEach(function (disp) { return disp.dispose(); });\r\n}\r\nexports.disposeMembers = disposeMembers;\r\n/**\r\n* Determines if target is an instance of a IObservableProperty\r\n* @param {any} target\r\n*/\r\nfunction isProperty(target) {\r\n    if (target == null)\r\n        return false;\r\n    return queryInterface(target, IID_1.default.IObservableProperty);\r\n}\r\nexports.isProperty = isProperty;\r\n/**\r\n* Determines if target is an instance of a IObservableProperty\r\n* @param {any} target\r\n*/\r\nfunction isReadOnlyProperty(target) {\r\n    if (target == null)\r\n        return false;\r\n    return queryInterface(target, IID_1.default.IObservableReadOnlyProperty);\r\n}\r\nexports.isReadOnlyProperty = isReadOnlyProperty;\r\n/**\r\n* Determines if target is an instance of a Rx.Scheduler\r\n* @param {any} target\r\n*/\r\nfunction isRxScheduler(target) {\r\n    if (target == null)\r\n        return false;\r\n    return Rx.Scheduler.isScheduler(target);\r\n}\r\nexports.isRxScheduler = isRxScheduler;\r\n/**\r\n* Determines if target is an instance of a Rx.Observable\r\n* @param {any} target\r\n*/\r\nfunction isRxObservable(target) {\r\n    if (target == null)\r\n        return false;\r\n    return target instanceof RxObsConstructor;\r\n}\r\nexports.isRxObservable = isRxObservable;\r\n/**\r\n* Determines if target is an instance of a promise\r\n* @param {any} target\r\n*/\r\nfunction isPromise(target) {\r\n    if (target == null)\r\n        return false;\r\n    return Rx.helpers.isPromise(target);\r\n}\r\nexports.isPromise = isPromise;\r\n/**\r\n* If the prop is an observable property return its value\r\n* @param {any} prop\r\n*/\r\nfunction unwrapProperty(prop) {\r\n    if (isProperty(prop))\r\n        return prop();\r\n    return prop;\r\n}\r\nexports.unwrapProperty = unwrapProperty;\r\nfunction getObservable(o) {\r\n    if (isProperty(o)) {\r\n        var prop = o;\r\n        return prop.changed.startWith(prop());\r\n    }\r\n    if (isRxObservable(o))\r\n        return o;\r\n    throwError(\"getObservable: '\" + o + \"' is neither observable property nor observable\");\r\n}\r\nexports.getObservable = getObservable;\r\n/**\r\n* Returns true if a Unit-Testing environment is detected\r\n*/\r\nfunction isInUnitTest() {\r\n    // detect jasmine 1.x\r\n    if (window && window[\"jasmine\"] && window[\"jasmine\"].version_ !== undefined) {\r\n        return true;\r\n    }\r\n    // detect jasmine 2.x\r\n    if (window && window[\"getJasmineRequireObj\"] && typeof window[\"getJasmineRequireObj\"] === \"function\") {\r\n        return true;\r\n    }\r\n    return false;\r\n}\r\nexports.isInUnitTest = isInUnitTest;\r\n/**\r\n* Transforms the current method's arguments into an array\r\n*/\r\nfunction args2Array(args) {\r\n    var result = [];\r\n    for (var i = 0, len = args.length; i < len; i++) {\r\n        result.push(args[i]);\r\n    }\r\n    return result;\r\n}\r\nexports.args2Array = args2Array;\r\n/**\r\n* Formats a string using .net style format string\r\n* @param {string} fmt The format string\r\n* @param {any[]} ...args Format arguments\r\n*/\r\nfunction formatString(fmt) {\r\n    var args = [];\r\n    for (var _i = 1; _i < arguments.length; _i++) {\r\n        args[_i - 1] = arguments[_i];\r\n    }\r\n    var pattern = /\\{\\d+\\}/g;\r\n    return fmt.replace(pattern, function (capture) {\r\n        return args[capture.match(/\\d+/)];\r\n    });\r\n}\r\nexports.formatString = formatString;\r\n/**\r\n* Copies own properties from src to dst\r\n*/\r\nfunction extend(src, dst, inherited) {\r\n    var prop;\r\n    if (!inherited) {\r\n        var ownProps = Object.getOwnPropertyNames(src);\r\n        for (var i = 0; i < ownProps.length; i++) {\r\n            prop = ownProps[i];\r\n            dst[prop] = src[prop];\r\n        }\r\n    }\r\n    else {\r\n        for (prop in src) {\r\n            dst[prop] = src[prop];\r\n        }\r\n    }\r\n    return dst;\r\n}\r\nexports.extend = extend;\r\nvar PropertyInfo = (function () {\r\n    function PropertyInfo(propertyName, property) {\r\n        this.property = property;\r\n        this.propertyName = propertyName;\r\n    }\r\n    return PropertyInfo;\r\n}());\r\nexports.PropertyInfo = PropertyInfo;\r\n/**\r\n* Toggles one ore more css classes on the specified DOM element\r\n* @param {Node} node The target element\r\n* @param {boolean} shouldHaveClass True if the classes should be added to the element, false if they should be removed\r\n* @param {string[]} classNames The list of classes to process\r\n*/\r\nfunction toggleCssClass(node, shouldHaveClass) {\r\n    var classNames = [];\r\n    for (var _i = 2; _i < arguments.length; _i++) {\r\n        classNames[_i - 2] = arguments[_i];\r\n    }\r\n    if (classNames) {\r\n        var currentClassNames = node.className.match(regexCssClassName) || [];\r\n        var index = void 0;\r\n        var className = void 0;\r\n        if (shouldHaveClass) {\r\n            for (var i = 0; i < classNames.length; i++) {\r\n                className = classNames[i];\r\n                index = currentClassNames.indexOf(className);\r\n                if (index === -1)\r\n                    currentClassNames.push(className);\r\n            }\r\n        }\r\n        else {\r\n            for (var i = 0; i < classNames.length; i++) {\r\n                className = classNames[i];\r\n                index = currentClassNames.indexOf(className);\r\n                if (index !== -1)\r\n                    currentClassNames.splice(index, 1);\r\n            }\r\n        }\r\n        node.className = currentClassNames.join(\" \");\r\n    }\r\n}\r\nexports.toggleCssClass = toggleCssClass;\r\n/**\r\n* Determines if the specified DOM element has the specified CSS-Class\r\n* @param {Node} node The target element\r\n* @param {string} className The classe to check\r\n*/\r\nfunction hasCssClass(node, className) {\r\n    var currentClassNames = node.className.match(regexCssClassName) || [];\r\n    return currentClassNames.indexOf(className) !== -1;\r\n}\r\nexports.hasCssClass = hasCssClass;\r\n/**\r\n * Trigger a reflow on the target element\r\n * @param {HTMLElement} el\r\n */\r\nfunction triggerReflow(el) {\r\n    el.getBoundingClientRect();\r\n}\r\nexports.triggerReflow = triggerReflow;\r\n/**\r\n * Returns true if the specified element may be disabled\r\n * @param {HTMLElement} el\r\n */\r\nfunction elementCanBeDisabled(el) {\r\n    return el instanceof HTMLButtonElement ||\r\n        el instanceof HTMLAnchorElement ||\r\n        el instanceof HTMLInputElement ||\r\n        el instanceof HTMLFieldSetElement ||\r\n        el instanceof HTMLLinkElement ||\r\n        el instanceof HTMLOptGroupElement ||\r\n        el instanceof HTMLOptionElement ||\r\n        el instanceof HTMLSelectElement ||\r\n        el instanceof HTMLTextAreaElement;\r\n}\r\nexports.elementCanBeDisabled = elementCanBeDisabled;\r\n/**\r\n * Returns true if object is a Function.\r\n * @param obj\r\n */\r\nfunction isFunction(obj) {\r\n    return typeof obj == 'function' || false;\r\n}\r\nexports.isFunction = isFunction;\r\n/**\r\n * Returns true if object is a Disposable\r\n * @param obj\r\n */\r\nfunction isDisposable(obj) {\r\n    return queryInterface(obj, IID_1.default.IDisposable) || isFunction(obj[\"dispose\"]);\r\n}\r\nexports.isDisposable = isDisposable;\r\n/**\r\n * Performs an optimized deep comparison between the two objects, to determine if they should be considered equal.\r\n * @param a Object to compare\r\n * @param b Object to compare to\r\n */\r\nfunction isEqual(a, b, aStack, bStack) {\r\n    var toString = ({}).toString;\r\n    // Identical objects are equal. `0 === -0`, but they aren't identical.\r\n    // See the [Harmony `egal` proposal](http://wiki.ecmascript.org/doku.php?id=harmony:egal).\r\n    if (a === b)\r\n        return a !== 0 || 1 / a === 1 / b;\r\n    // A strict comparison is necessary because `null == undefined`.\r\n    if (a == null || b == null)\r\n        return a === b;\r\n    // Unwrap any wrapped objects.\r\n    //if (a instanceof _) a = a._wrapped;\r\n    //if (b instanceof _) b = b._wrapped;\r\n    // Compare `[[Class]]` names.\r\n    var className = toString.call(a);\r\n    if (className !== toString.call(b))\r\n        return false;\r\n    switch (className) {\r\n        // Strings, numbers, regular expressions, dates, and booleans are compared by value.\r\n        case '[object RegExp]':\r\n        // RegExps are coerced to strings for comparison (Note: '' + /a/i === '/a/i')\r\n        case '[object String]':\r\n            // Primitives and their corresponding object wrappers are equivalent; thus, `\"5\"` is\r\n            // equivalent to `new String(\"5\")`.\r\n            return '' + a === '' + b;\r\n        case '[object Number]':\r\n            // `NaN`s are equivalent, but non-reflexive.\r\n            // Object(NaN) is equivalent to NaN\r\n            if (+a !== +a)\r\n                return +b !== +b;\r\n            // An `egal` comparison is performed for other numeric values.\r\n            return +a === 0 ? 1 / +a === 1 / b : +a === +b;\r\n        case '[object Date]':\r\n        case '[object Boolean]':\r\n            // Coerce dates and booleans to numeric primitive values. Dates are compared by their\r\n            // millisecond representations. Note that invalid dates with millisecond representations\r\n            // of `NaN` are not equivalent.\r\n            return +a === +b;\r\n    }\r\n    var areArrays = className === '[object Array]';\r\n    if (!areArrays) {\r\n        if (typeof a != 'object' || typeof b != 'object')\r\n            return false;\r\n        // Objects with different constructors are not equivalent, but `Object`s or `Array`s\r\n        // from different frames are.\r\n        var aCtor = a.constructor, bCtor = b.constructor;\r\n        if (aCtor !== bCtor && !(isFunction(aCtor) && aCtor instanceof aCtor &&\r\n            isFunction(bCtor) && bCtor instanceof bCtor)\r\n            && ('constructor' in a && 'constructor' in b)) {\r\n            return false;\r\n        }\r\n    }\r\n    // Assume equality for cyclic structures. The algorithm for detecting cyclic\r\n    // structures is adapted from ES 5.1 section 15.12.3, abstract operation `JO`.\r\n    // Initializing stack of traversed objects.\r\n    // It's done here since we only need them for objects and arrays comparison.\r\n    aStack = aStack || [];\r\n    bStack = bStack || [];\r\n    var length = aStack.length;\r\n    while (length--) {\r\n        // Linear search. Performance is inversely proportional to the number of\r\n        // unique nested structures.\r\n        if (aStack[length] === a)\r\n            return bStack[length] === b;\r\n    }\r\n    // Add the first object to the stack of traversed objects.\r\n    aStack.push(a);\r\n    bStack.push(b);\r\n    // Recursively compare objects and arrays.\r\n    if (areArrays) {\r\n        // Compare array lengths to determine if a deep comparison is necessary.\r\n        length = a.length;\r\n        if (length !== b.length)\r\n            return false;\r\n        // Deep compare the contents, ignoring non-numeric properties.\r\n        while (length--) {\r\n            if (!isEqual(a[length], b[length], aStack, bStack))\r\n                return false;\r\n        }\r\n    }\r\n    else {\r\n        // Deep compare objects.\r\n        var keys = Object.keys(a), key = void 0;\r\n        length = keys.length;\r\n        // Ensure that both objects contain the same number of properties before comparing deep equality.\r\n        if (Object.keys(b).length !== length)\r\n            return false;\r\n        while (length--) {\r\n            // Deep compare each member\r\n            key = keys[length];\r\n            if (!(b.hasOwnProperty(key) && isEqual(a[key], b[key], aStack, bStack)))\r\n                return false;\r\n        }\r\n    }\r\n    // Remove the first object from the stack of traversed objects.\r\n    aStack.pop();\r\n    bStack.pop();\r\n    return true;\r\n}\r\nexports.isEqual = isEqual;\r\n/**\r\n* Returns an array of clones of the nodes in the source array\r\n*/\r\nfunction cloneNodeArray(nodes) {\r\n    var length = nodes.length;\r\n    var result = new Array(length);\r\n    for (var i = 0; i < length; i++) {\r\n        result[i] = nodes[i].cloneNode(true);\r\n    }\r\n    return result;\r\n}\r\nexports.cloneNodeArray = cloneNodeArray;\r\n/**\r\n * Converts a NodeList into a javascript array\r\n * @param {NodeList} nodes\r\n */\r\nfunction nodeListToArray(nodes) {\r\n    return Array.prototype.slice.call(nodes);\r\n}\r\nexports.nodeListToArray = nodeListToArray;\r\n/**\r\n * Converts the node's children into a javascript array\r\n * @param {Node} node\r\n */\r\nfunction nodeChildrenToArray(node) {\r\n    return nodeListToArray(node.childNodes);\r\n}\r\nexports.nodeChildrenToArray = nodeChildrenToArray;\r\n/**\r\n* Wraps an action in try/finally block and disposes the resource after the action has completed even if it throws an exception\r\n* (mimics C# using statement)\r\n* @param {Rx.IDisposable} disp The resource to dispose after action completes\r\n* @param {() => void} action The action to wrap\r\n*/\r\nfunction using(disp, action) {\r\n    if (!disp)\r\n        throw new Error(\"disp\");\r\n    if (!action)\r\n        throw new Error(\"action\");\r\n    try {\r\n        action(disp);\r\n    }\r\n    finally {\r\n        disp.dispose();\r\n    }\r\n}\r\nexports.using = using;\r\n/**\r\n* Turns an AMD-Style require call into an observable\r\n* @param {string} Module The module to load\r\n* @return {Rx.Observable<any>} An observable that yields a value and completes as soon as the module has been loaded\r\n*/\r\nfunction observableRequire(module) {\r\n    var requireFunc = window != null ? window[\"require\"] : null;\r\n    if (!isFunction(requireFunc))\r\n        throwError(\"there's no AMD-module loader available (Hint: did you forget to include RequireJS in your project?)\");\r\n    return Rx.Observable.create(function (observer) {\r\n        try {\r\n            requireFunc([module], function (m) {\r\n                observer.onNext(m);\r\n                observer.onCompleted();\r\n            }, function (err) {\r\n                observer.onError(err);\r\n            });\r\n        }\r\n        catch (e) {\r\n            observer.onError(e);\r\n        }\r\n        return Rx.Disposable.empty;\r\n    });\r\n}\r\nexports.observableRequire = observableRequire;\r\n/**\r\n* Returns an observable that notifes of any observable property changes on the target\r\n* @param {any} target The object to observe\r\n* @return {Rx.Observable<T>} An observable\r\n*/\r\nfunction observeObject(target, defaultExceptionHandler, onChanging) {\r\n    if (onChanging === void 0) { onChanging = false; }\r\n    var thrownExceptionsSubject = queryInterface(target, IID_1.default.IHandleObservableErrors) ?\r\n        target.thrownExceptions : defaultExceptionHandler;\r\n    return Rx.Observable.create(function (observer) {\r\n        var result = new Rx.CompositeDisposable();\r\n        var observableProperties = getOwnPropertiesImplementingInterface(target, IID_1.default.IObservableProperty);\r\n        observableProperties.forEach(function (x) {\r\n            var prop = x.property;\r\n            var obs = onChanging ? prop.changing : prop.changed;\r\n            result.add(obs.subscribe(function (_) {\r\n                var e = new Events_1.PropertyChangedEventArgs(self, x.propertyName);\r\n                try {\r\n                    observer.onNext(e);\r\n                }\r\n                catch (ex) {\r\n                    thrownExceptionsSubject.onNext(ex);\r\n                }\r\n            }));\r\n        });\r\n        return result;\r\n    })\r\n        .publish()\r\n        .refCount();\r\n}\r\nexports.observeObject = observeObject;\r\n/**\r\n * whenAny allows you to observe whenever the value of one or more properties\r\n * on an object have changed, providing an initial value when the Observable is set up.\r\n */\r\nfunction whenAny() {\r\n    // no need to invoke combineLatest for the simplest case\r\n    if (arguments.length === 2) {\r\n        return getObservable(arguments[0]).select(arguments[1]);\r\n    }\r\n    var args = args2Array(arguments);\r\n    // extract selector\r\n    var selector = args.pop();\r\n    // verify selector\r\n    if (isProperty(selector) || isRxObservable(selector)) {\r\n        args.push(selector);\r\n        selector = function () {\r\n            return args2Array(arguments);\r\n        };\r\n    }\r\n    // transform args\r\n    args = args.map(function (x) { return getObservable(x); });\r\n    // finally append the selector\r\n    args.push(selector);\r\n    return Rx.Observable.combineLatest.apply(this, args);\r\n}\r\nexports.whenAny = whenAny;\r\n/**\r\n* FOR INTERNAL USE ONLY\r\n* Throw an error containing the specified description\r\n*/\r\nfunction throwError(fmt) {\r\n    var args = [];\r\n    for (var _i = 1; _i < arguments.length; _i++) {\r\n        args[_i - 1] = arguments[_i];\r\n    }\r\n    var msg = \"WebRx: \" + formatString(fmt, args);\r\n    throw new Error(msg);\r\n}\r\nexports.throwError = throwError;\r\n//# sourceMappingURL=Utils.js.map\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./build/src/es5/Core/Utils.js\n ** module id = 1\n ** module chunks = 0\n **/","/// <reference path=\"../Interfaces.ts\" />\r\n\"use strict\";\r\nvar PropertyChangedEventArgs = (function () {\r\n    /// <summary>\r\n    /// Initializes a new instance of the <see cref=\"ObservablePropertyChangedEventArgs{TSender}\"/> class.\r\n    /// </summary>\r\n    /// <param name=\"sender\">The sender.</param>\r\n    /// <param name=\"propertyName\">Name of the property.</param>\r\n    function PropertyChangedEventArgs(sender, propertyName) {\r\n        this.propertyName = propertyName;\r\n        this.sender = sender;\r\n    }\r\n    return PropertyChangedEventArgs;\r\n}());\r\nexports.PropertyChangedEventArgs = PropertyChangedEventArgs;\r\n//# sourceMappingURL=Events.js.map\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./build/src/es5/Core/Events.js\n ** module id = 2\n ** module chunks = 0\n **/","\"use strict\";\r\n/// <summary>\r\n/// Interface registry to be used with IUnknown.queryInterface\r\n/// </summary>\r\nvar IID = (function () {\r\n    function IID() {\r\n    }\r\n    IID.IDisposable = \"IDisposable\";\r\n    IID.IObservableProperty = \"IObservableProperty\";\r\n    IID.IObservableReadOnlyProperty = \"IObservableReadOnlyProperty\";\r\n    IID.IObservableList = \"IObservableList\";\r\n    IID.ICommand = \"ICommand\";\r\n    IID.IHandleObservableErrors = \"IHandleObservableErrors\";\r\n    return IID;\r\n}());\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.default = IID;\r\n//# sourceMappingURL=IID.js.map\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./build/src/es5/IID.js\n ** module id = 3\n ** module chunks = 0\n **/","/// <reference path=\"../Interfaces.ts\" />\r\n\"use strict\";\r\nvar IID_1 = require(\"../IID\");\r\n// NOTE: The factory method approach is necessary because it is\r\n// currently impossible to implement a Typescript interface\r\n// with a function signature in a Typescript class.\r\n\"use strict\";\r\n/**\r\n* Creates an observable property with an optional default value\r\n* @param {T} initialValue?\r\n*/\r\nfunction property(initialValue) {\r\n    // initialize accessor function\r\n    var accessor = function (newVal) {\r\n        if (arguments.length > 0) {\r\n            // set\r\n            if (newVal !== accessor.value) {\r\n                accessor.changingSubject.onNext(newVal);\r\n                accessor.value = newVal;\r\n                accessor.changedSubject.onNext(newVal);\r\n            }\r\n        }\r\n        else {\r\n            // get\r\n            return accessor.value;\r\n        }\r\n    };\r\n    //////////////////////////////////\r\n    // IUnknown implementation\r\n    accessor.queryInterface = function (iid) {\r\n        return iid === IID_1.default.IObservableProperty || iid === IID_1.default.IDisposable;\r\n    };\r\n    //////////////////////////////////\r\n    // IDisposable implementation\r\n    accessor.dispose = function () {\r\n    };\r\n    //////////////////////////////////\r\n    // IObservableProperty<T> implementation\r\n    if (initialValue !== undefined)\r\n        accessor.value = initialValue;\r\n    // setup observables\r\n    accessor.changedSubject = new Rx.Subject();\r\n    accessor.changed = accessor.changedSubject.asObservable();\r\n    accessor.changingSubject = new Rx.Subject();\r\n    accessor.changing = accessor.changingSubject.asObservable();\r\n    return accessor;\r\n}\r\nexports.property = property;\r\n//# sourceMappingURL=Property.js.map\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./build/src/es5/Core/Property.js\n ** module id = 4\n ** module chunks = 0\n **/","/// <reference path=\"../Interfaces.ts\" />\r\n\"use strict\";\r\nvar IID_1 = require(\"./../IID\");\r\nvar Utils_1 = require(\"././Utils\");\r\nvar Injector_1 = require(\"../Core/Injector\");\r\nvar res = require(\"../Core/Resources\");\r\n\"use strict\";\r\nvar Command = (function () {\r\n    /// <summary>\r\n    /// Don't use this directly, use commandXYZ instead\r\n    /// </summary>\r\n    function Command(canExecute, executeAsync, scheduler) {\r\n        var _this = this;\r\n        this.resultsSubject = new Rx.Subject();\r\n        this.isExecutingSubject = new Rx.Subject();\r\n        this.inflightCount = 0;\r\n        this.canExecuteLatest = false;\r\n        this.scheduler = scheduler || Injector_1.injector.get(res.app).mainThreadScheduler;\r\n        this.func = executeAsync;\r\n        // setup canExecute\r\n        var canExecuteObs = canExecute\r\n            .combineLatest(this.isExecutingSubject.startWith(false), function (ce, ie) { return ce && !ie; })\r\n            .catch(function (ex) {\r\n            _this.exceptionsSubject.onNext(ex);\r\n            return Rx.Observable.return(false);\r\n        })\r\n            .do(function (x) {\r\n            _this.canExecuteLatest = x;\r\n        })\r\n            .startWith(this.canExecuteLatest)\r\n            .distinctUntilChanged()\r\n            .publish();\r\n        this.canExecuteDisp = canExecuteObs.connect();\r\n        this.canExecuteObservable = canExecuteObs;\r\n        // setup thrownExceptions\r\n        this.exceptionsSubject = new Rx.Subject();\r\n        this.thrownExceptions = this.exceptionsSubject.asObservable();\r\n        this.exceptionsSubject\r\n            .observeOn(this.scheduler)\r\n            .subscribe(Injector_1.injector.get(res.app).defaultExceptionHandler);\r\n    }\r\n    //////////////////////////////////\r\n    // IUnknown implementation\r\n    Command.prototype.queryInterface = function (iid) {\r\n        return iid === IID_1.default.ICommand || iid === IID_1.default.IDisposable;\r\n    };\r\n    //////////////////////////////////\r\n    // IDisposable implementation\r\n    Command.prototype.dispose = function () {\r\n        var disp = this.canExecuteDisp;\r\n        if (disp != null)\r\n            disp.dispose();\r\n    };\r\n    Object.defineProperty(Command.prototype, \"isExecuting\", {\r\n        get: function () {\r\n            return this.isExecutingSubject.startWith(this.inflightCount > 0);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Command.prototype, \"results\", {\r\n        get: function () {\r\n            return this.resultsSubject.asObservable();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Command.prototype.canExecute = function (parameter) {\r\n        return this.canExecuteLatest;\r\n    };\r\n    Command.prototype.execute = function (parameter) {\r\n        this.executeAsync(parameter)\r\n            .catch(Rx.Observable.empty())\r\n            .subscribe();\r\n    };\r\n    Command.prototype.executeAsync = function (parameter) {\r\n        var self = this;\r\n        var ret = this.canExecute(parameter) ? Rx.Observable.create(function (subj) {\r\n            if (++self.inflightCount === 1) {\r\n                self.isExecutingSubject.onNext(true);\r\n            }\r\n            var decrement = new Rx.SerialDisposable();\r\n            decrement.setDisposable(Rx.Disposable.create(function () {\r\n                if (--self.inflightCount === 0) {\r\n                    self.isExecutingSubject.onNext(false);\r\n                }\r\n            }));\r\n            var disp = self.func(parameter)\r\n                .observeOn(self.scheduler)\r\n                .do(function (_) { }, function (e) { return decrement.setDisposable(Rx.Disposable.empty); }, function () { return decrement.setDisposable(Rx.Disposable.empty); })\r\n                .do(function (x) { return self.resultsSubject.onNext(x); }, function (x) { return self.exceptionsSubject.onNext(x); })\r\n                .subscribe(subj);\r\n            return new Rx.CompositeDisposable(disp, decrement);\r\n        }) : Rx.Observable.throw(new Error(\"canExecute currently forbids execution\"));\r\n        return ret\r\n            .publish()\r\n            .refCount();\r\n    };\r\n    return Command;\r\n}());\r\nexports.Command = Command;\r\nvar internal;\r\n(function (internal) {\r\n    internal.commandConstructor = Command;\r\n})(internal = exports.internal || (exports.internal = {}));\r\n// factory method implementation\r\nfunction command() {\r\n    var args = Utils_1.args2Array(arguments);\r\n    var canExecute;\r\n    var execute;\r\n    var scheduler;\r\n    var thisArg;\r\n    if (Utils_1.isFunction(args[0])) {\r\n        // first overload\r\n        execute = args.shift();\r\n        canExecute = Utils_1.isRxObservable(args[0]) ? args.shift() : Rx.Observable.return(true);\r\n        scheduler = Utils_1.isRxScheduler(args[0]) ? args.shift() : undefined;\r\n        thisArg = args.shift();\r\n        if (thisArg != null)\r\n            execute = execute.bind(thisArg);\r\n        return asyncCommand(canExecute, function (parameter) {\r\n            return Rx.Observable.create(function (obs) {\r\n                try {\r\n                    execute(parameter);\r\n                    obs.onNext(null);\r\n                    obs.onCompleted();\r\n                }\r\n                catch (e) {\r\n                    obs.onError(e);\r\n                }\r\n                return Rx.Disposable.empty;\r\n            });\r\n        }, scheduler);\r\n    }\r\n    // second overload\r\n    canExecute = args.shift() || Rx.Observable.return(true);\r\n    scheduler = Utils_1.isRxScheduler(args[0]) ? args.shift() : undefined;\r\n    return new Command(canExecute, function (x) { return Rx.Observable.return(x); }, scheduler);\r\n}\r\nexports.command = command;\r\n// factory method implementation\r\nfunction asyncCommand() {\r\n    var args = Utils_1.args2Array(arguments);\r\n    var canExecute;\r\n    var executeAsync;\r\n    var scheduler;\r\n    var thisArg;\r\n    if (Utils_1.isFunction(args[0])) {\r\n        // second overload\r\n        executeAsync = args.shift();\r\n        scheduler = Utils_1.isRxScheduler(args[0]) ? args.shift() : undefined;\r\n        thisArg = args.shift();\r\n        if (thisArg != null)\r\n            executeAsync = executeAsync.bind(thisArg);\r\n        return new Command(Rx.Observable.return(true), executeAsync, scheduler);\r\n    }\r\n    // first overload\r\n    canExecute = args.shift();\r\n    executeAsync = args.shift();\r\n    scheduler = Utils_1.isRxScheduler(args[0]) ? args.shift() : undefined;\r\n    return new Command(canExecute, executeAsync, scheduler);\r\n}\r\nexports.asyncCommand = asyncCommand;\r\n/**\r\n* Determines if target is an instance of a ICommand\r\n* @param {any} target\r\n*/\r\nfunction isCommand(target) {\r\n    if (target == null)\r\n        return false;\r\n    return target instanceof Command ||\r\n        Utils_1.queryInterface(target, IID_1.default.ICommand);\r\n}\r\nexports.isCommand = isCommand;\r\n//# sourceMappingURL=Command.js.map\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./build/src/es5/Core/Command.js\n ** module id = 5\n ** module chunks = 0\n **/","/// <reference path=\"../Interfaces.ts\" />\r\n\"use strict\";\r\nvar Utils_1 = require(\"../Core/Utils\");\r\nvar res = require(\"./Resources\");\r\n\"use strict\";\r\n/**\r\n* Simple IoC & Service Locator\r\n*/\r\nvar Injector = (function () {\r\n    function Injector() {\r\n        //////////////////////////////////\r\n        // Implementation\r\n        this.registrations = {};\r\n    }\r\n    Injector.prototype.register = function () {\r\n        var key = arguments[0];\r\n        var val = arguments[1];\r\n        var isSingleton = arguments[2];\r\n        var factory;\r\n        if (this.registrations.hasOwnProperty(key))\r\n            Utils_1.throwError(\"'{0}' is already registered\", key);\r\n        if (Utils_1.isFunction(val)) {\r\n            // second overload\r\n            // it's a factory function\r\n            factory = function (args, deps) { return val.apply(null, args); };\r\n        }\r\n        else if (Array.isArray(val)) {\r\n            // first overload\r\n            // array assumed to be inline array notation with constructor\r\n            var self_1 = this;\r\n            var ctor_1 = val.pop();\r\n            var dependencies_1 = val;\r\n            factory = function (args, deps) {\r\n                // resolve dependencies\r\n                var resolved = dependencies_1.map(function (x) {\r\n                    try {\r\n                        return self_1.get(x, undefined, deps);\r\n                    }\r\n                    catch (e) {\r\n                        Utils_1.throwError(\"Error resolving dependency '{0}' for '{1}': {2}\", x, key, e);\r\n                    }\r\n                });\r\n                // invoke constructor\r\n                var _args = [null].concat(resolved).concat(args);\r\n                var ctorFunc = ctor_1.bind.apply(ctor_1, _args);\r\n                return new ctorFunc();\r\n            };\r\n        }\r\n        else {\r\n            // third overload\r\n            // singleton\r\n            factory = function (args, deps) { return val; };\r\n        }\r\n        this.registrations[key] = { factory: factory, isSingleton: isSingleton };\r\n        return this;\r\n    };\r\n    Injector.prototype.get = function (key, args, deps) {\r\n        deps = deps || {};\r\n        if (deps.hasOwnProperty(key))\r\n            Utils_1.throwError(\"Detected circular dependency a from '{0}' to '{1}'\", Object.keys(deps).join(\", \"), key);\r\n        // registered?\r\n        var registration = this.registrations[key];\r\n        if (registration === undefined)\r\n            Utils_1.throwError(\"'{0}' is not registered\", key);\r\n        // already instantiated?\r\n        if (registration.isSingleton && registration.value)\r\n            return registration.value;\r\n        // append current key\r\n        var newDeps = {};\r\n        newDeps[key] = true;\r\n        Utils_1.extend(deps, newDeps);\r\n        // create it\r\n        var result = registration.factory(args, newDeps);\r\n        // cache if singleton\r\n        if (registration.isSingleton)\r\n            registration.value = result;\r\n        return result;\r\n    };\r\n    Injector.prototype.resolve = function (iaa, args) {\r\n        var ctor = iaa.pop();\r\n        if (!Utils_1.isFunction(ctor))\r\n            Utils_1.throwError(\"Error resolving inline-annotated-array. Constructor must be of type 'function' but is '{0}\", typeof ctor);\r\n        var self = this;\r\n        // resolve dependencies\r\n        var resolved = iaa.map(function (x) {\r\n            try {\r\n                return self.get(x, undefined, iaa);\r\n            }\r\n            catch (e) {\r\n                Utils_1.throwError(\"Error resolving dependency '{0}' for '{1}': {2}\", x, Object.getPrototypeOf(ctor), e);\r\n            }\r\n        });\r\n        // invoke constructor\r\n        var _args = [null].concat(resolved).concat(args);\r\n        var ctorFunc = ctor.bind.apply(ctor, _args);\r\n        return new ctorFunc();\r\n    };\r\n    return Injector;\r\n}());\r\nexports.injector = new Injector();\r\nexports.injector.register(res.injector, function () { return new Injector(); });\r\n//# sourceMappingURL=Injector.js.map\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./build/src/es5/Core/Injector.js\n ** module id = 6\n ** module chunks = 0\n **/","\"use strict\";\r\nexports.app = \"app\";\r\nexports.injector = \"injector\";\r\nexports.domManager = \"domservice\";\r\nexports.router = \"router\";\r\nexports.messageBus = \"messageBus\";\r\nexports.expressionCompiler = \"expressioncompiler\";\r\nexports.templateEngine = \"templateEngine\";\r\nexports.httpClient = \"httpClient\";\r\nexports.simpleBindingHandler = \"bindings.simple\";\r\nexports.hasValueBindingValue = \"has.bindings.value\";\r\nexports.valueBindingValue = \"bindings.value\";\r\n//# sourceMappingURL=Resources.js.map\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./build/src/es5/Core/Resources.js\n ** module id = 7\n ** module chunks = 0\n **/","\"use strict\";\r\nvar oid = 1;\r\nvar oidPropertyName = \"__wx_oid__\" + (new Date).getTime();\r\n/**\r\n* Returns the objects unique id or assigns it if unassigned\r\n* @param {any} o\r\n*/\r\nfunction getOid(o) {\r\n    if (o == null)\r\n        return undefined;\r\n    var t = typeof o;\r\n    if (t === \"boolean\" || t === \"number\" || t === \"string\")\r\n        return (t + \":\" + o);\r\n    // already set?\r\n    var result = o[oidPropertyName];\r\n    if (result !== undefined)\r\n        return result;\r\n    // assign new one\r\n    result = (oid++).toString();\r\n    // store as non-enumerable property to avoid confusing other libraries\r\n    Object.defineProperty(o, oidPropertyName, {\r\n        enumerable: false,\r\n        configurable: false,\r\n        writable: false,\r\n        value: result\r\n    });\r\n    return result;\r\n}\r\nexports.getOid = getOid;\r\n//# sourceMappingURL=Oid.js.map\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./build/src/es5/Core/Oid.js\n ** module id = 8\n ** module chunks = 0\n **/","/// <reference path=\"../Interfaces.ts\" />\r\n\"use strict\";\r\nvar __extends = (this && this.__extends) || function (d, b) {\r\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n};\r\nvar Utils_1 = require(\"../Core/Utils\");\r\nvar Oid_1 = require(\"../Core/Oid\");\r\nvar IID_1 = require(\"./../IID\");\r\nvar Lazy_1 = require(\"./../Core/Lazy\");\r\nvar ScheduledSubject_1 = require(\"./../Core/ScheduledSubject\");\r\nvar Events_1 = require(\"../Core/Events\");\r\nvar RefCountDisposeWrapper_1 = require(\"./../Core/RefCountDisposeWrapper\");\r\nvar log = require(\"./../Core/Log\");\r\nvar Injector_1 = require(\"../Core/Injector\");\r\nvar res = require(\"../Core/Resources\");\r\nvar ListPaged_1 = require(\"./ListPaged\");\r\n\"use strict\";\r\n/**\r\n* ReactiveUI's awesome ReactiveList ported to Typescript\r\n* @class\r\n*/\r\nvar ObservableList = (function () {\r\n    function ObservableList(initialContents, resetChangeThreshold, scheduler) {\r\n        if (resetChangeThreshold === void 0) { resetChangeThreshold = 0.3; }\r\n        if (scheduler === void 0) { scheduler = null; }\r\n        //////////////////////////\r\n        // Some array convenience members\r\n        this.push = this.add;\r\n        this.changeNotificationsSuppressed = 0;\r\n        this.propertyChangeWatchers = null;\r\n        this.resetChangeThreshold = 0;\r\n        this.resetSubCount = 0;\r\n        this.hasWhinedAboutNoResetSub = false;\r\n        this.readonlyExceptionMessage = \"Derived collections cannot be modified.\";\r\n        this.disposables = new Rx.CompositeDisposable();\r\n        this.app = Injector_1.injector.get(res.app);\r\n        this.setupRx(initialContents, resetChangeThreshold, scheduler);\r\n    }\r\n    //////////////////////////////////\r\n    // IUnknown implementation\r\n    ObservableList.prototype.queryInterface = function (iid) {\r\n        return iid === IID_1.default.IObservableList || iid === IID_1.default.IDisposable;\r\n    };\r\n    //////////////////////////////////\r\n    // IDisposable implementation\r\n    ObservableList.prototype.dispose = function () {\r\n        this.clearAllPropertyChangeWatchers();\r\n        this.disposables.dispose();\r\n    };\r\n    Object.defineProperty(ObservableList.prototype, \"itemsAdded\", {\r\n        ////////////////////\r\n        /// IObservableList<T>\r\n        get: function () {\r\n            if (!this._itemsAdded)\r\n                this._itemsAdded = this.itemsAddedSubject.value.asObservable();\r\n            return this._itemsAdded;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ObservableList.prototype, \"beforeItemsAdded\", {\r\n        get: function () {\r\n            if (!this._beforeItemsAdded)\r\n                this._beforeItemsAdded = this.beforeItemsAddedSubject.value.asObservable();\r\n            return this._beforeItemsAdded;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ObservableList.prototype, \"itemsRemoved\", {\r\n        get: function () {\r\n            if (!this._itemsRemoved)\r\n                this._itemsRemoved = this.itemsRemovedSubject.value.asObservable();\r\n            return this._itemsRemoved;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ObservableList.prototype, \"beforeItemsRemoved\", {\r\n        get: function () {\r\n            if (!this._beforeItemsRemoved)\r\n                this._beforeItemsRemoved = this.beforeItemsRemovedSubject.value.asObservable();\r\n            return this._beforeItemsRemoved;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ObservableList.prototype, \"itemReplaced\", {\r\n        get: function () {\r\n            if (!this._itemReplaced)\r\n                this._itemReplaced = this.itemReplacedSubject.value.asObservable();\r\n            return this._itemReplaced;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ObservableList.prototype, \"beforeItemReplaced\", {\r\n        get: function () {\r\n            if (!this._beforeItemReplaced)\r\n                this._beforeItemReplaced = this.beforeItemReplacedSubject.value.asObservable();\r\n            return this._beforeItemReplaced;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ObservableList.prototype, \"beforeItemsMoved\", {\r\n        get: function () {\r\n            if (!this._beforeItemsMoved)\r\n                this._beforeItemsMoved = this.beforeItemsMovedSubject.value.asObservable();\r\n            return this._beforeItemsMoved;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ObservableList.prototype, \"itemsMoved\", {\r\n        get: function () {\r\n            if (!this._itemsMoved)\r\n                this._itemsMoved = this.itemsMovedSubject.value.asObservable();\r\n            return this._itemsMoved;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ObservableList.prototype, \"lengthChanging\", {\r\n        get: function () {\r\n            var _this = this;\r\n            if (!this._lengthChanging)\r\n                this._lengthChanging = this.listChanging.select(function (_) {\r\n                    return _this.inner.length;\r\n                }).distinctUntilChanged();\r\n            return this._lengthChanging;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ObservableList.prototype, \"lengthChanged\", {\r\n        get: function () {\r\n            var _this = this;\r\n            if (!this._lengthChanged)\r\n                this._lengthChanged = this.listChanged.select(function (_) {\r\n                    return _this.inner.length;\r\n                }).distinctUntilChanged();\r\n            return this._lengthChanged;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ObservableList.prototype, \"itemChanging\", {\r\n        get: function () {\r\n            if (!this._itemChanging)\r\n                this._itemChanging = this.itemChangingSubject.value.asObservable();\r\n            return this._itemChanging;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ObservableList.prototype, \"itemChanged\", {\r\n        get: function () {\r\n            if (!this._itemChanged)\r\n                this._itemChanged = this.itemChangedSubject.value.asObservable();\r\n            return this._itemChanged;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ObservableList.prototype, \"shouldReset\", {\r\n        get: function () {\r\n            var _this = this;\r\n            return this.refcountSubscribers(this.listChanged.selectMany(function (x) { return !x ? Rx.Observable.empty() :\r\n                Rx.Observable.return(null); }), function (x) { return _this.resetSubCount += x; });\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ObservableList.prototype, \"changeTrackingEnabled\", {\r\n        get: function () {\r\n            return this.propertyChangeWatchers != null;\r\n        },\r\n        set: function (newValue) {\r\n            var _this = this;\r\n            if (this.propertyChangeWatchers != null && newValue)\r\n                return;\r\n            if (this.propertyChangeWatchers == null && !newValue)\r\n                return;\r\n            if (newValue) {\r\n                this.propertyChangeWatchers = {};\r\n                this.inner.forEach(function (x) { return _this.addItemToPropertyTracking(x); });\r\n            }\r\n            else {\r\n                this.clearAllPropertyChangeWatchers();\r\n                this.propertyChangeWatchers = null;\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ObservableList.prototype, \"isReadOnly\", {\r\n        get: function () {\r\n            return false;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ObservableList.prototype.addRange = function (items) {\r\n        var _this = this;\r\n        if (items == null) {\r\n            Utils_1.throwError(\"items\");\r\n        }\r\n        var disp = this.isLengthAboveResetThreshold(items.length) ? this.suppressChangeNotifications() : Rx.Disposable.empty;\r\n        Utils_1.using(disp, function () {\r\n            // reset notification\r\n            if (!_this.areChangeNotificationsEnabled()) {\r\n                // this._inner.splice(this._inner.length, 0, items)\r\n                Array.prototype.push.apply(_this.inner, items);\r\n                if (_this.changeTrackingEnabled) {\r\n                    items.forEach(function (x) {\r\n                        _this.addItemToPropertyTracking(x);\r\n                    });\r\n                }\r\n            }\r\n            else {\r\n                var from = _this.inner.length; // need to capture this before \"inner\" gets modified\r\n                if (_this.beforeItemsAddedSubject.isValueCreated) {\r\n                    _this.beforeItemsAddedSubject.value.onNext({ items: items, from: from });\r\n                }\r\n                Array.prototype.push.apply(_this.inner, items);\r\n                if (_this.itemsAddedSubject.isValueCreated) {\r\n                    _this.itemsAddedSubject.value.onNext({ items: items, from: from });\r\n                }\r\n                if (_this.changeTrackingEnabled) {\r\n                    items.forEach(function (x) {\r\n                        _this.addItemToPropertyTracking(x);\r\n                    });\r\n                }\r\n            }\r\n        });\r\n    };\r\n    ObservableList.prototype.insertRange = function (index, items) {\r\n        var _this = this;\r\n        if (items == null) {\r\n            Utils_1.throwError(\"collection\");\r\n        }\r\n        if (index > this.inner.length) {\r\n            Utils_1.throwError(\"index\");\r\n        }\r\n        var disp = this.isLengthAboveResetThreshold(items.length) ? this.suppressChangeNotifications() : Rx.Disposable.empty;\r\n        Utils_1.using(disp, function () {\r\n            // reset notification\r\n            if (!_this.areChangeNotificationsEnabled()) {\r\n                // this._inner.splice(index, 0, items)\r\n                Array.prototype.splice.apply(_this.inner, [index, 0].concat(items));\r\n                if (_this.changeTrackingEnabled) {\r\n                    items.forEach(function (x) {\r\n                        _this.addItemToPropertyTracking(x);\r\n                    });\r\n                }\r\n            }\r\n            else {\r\n                if (_this.beforeItemsAddedSubject.isValueCreated) {\r\n                    _this.beforeItemsAddedSubject.value.onNext({ items: items, from: index });\r\n                }\r\n                Array.prototype.splice.apply(_this.inner, [index, 0].concat(items));\r\n                if (_this.itemsAddedSubject.isValueCreated) {\r\n                    _this.itemsAddedSubject.value.onNext({ items: items, from: index });\r\n                }\r\n                if (_this.changeTrackingEnabled) {\r\n                    items.forEach(function (x) {\r\n                        _this.addItemToPropertyTracking(x);\r\n                    });\r\n                }\r\n            }\r\n        });\r\n    };\r\n    ObservableList.prototype.removeAll = function (itemsOrSelector) {\r\n        var _this = this;\r\n        if (itemsOrSelector == null) {\r\n            Utils_1.throwError(\"items\");\r\n        }\r\n        var items = Array.isArray(itemsOrSelector) ? itemsOrSelector : this.inner.filter(itemsOrSelector);\r\n        var disp = this.isLengthAboveResetThreshold(items.length) ?\r\n            this.suppressChangeNotifications() : Rx.Disposable.empty;\r\n        Utils_1.using(disp, function () {\r\n            // NB: If we don't do this, we'll break Collection<T>'s\r\n            // accounting of the length\r\n            items.forEach(function (x) { return _this.remove(x); });\r\n        });\r\n        return items;\r\n    };\r\n    ObservableList.prototype.removeRange = function (index, count) {\r\n        var _this = this;\r\n        var disp = this.isLengthAboveResetThreshold(count) ? this.suppressChangeNotifications() : Rx.Disposable.empty;\r\n        Utils_1.using(disp, function () {\r\n            // construct items\r\n            var items = _this.inner.slice(index, index + count);\r\n            // reset notification\r\n            if (!_this.areChangeNotificationsEnabled()) {\r\n                _this.inner.splice(index, count);\r\n                if (_this.changeTrackingEnabled) {\r\n                    items.forEach(function (x) {\r\n                        _this.removeItemFromPropertyTracking(x);\r\n                    });\r\n                }\r\n            }\r\n            else {\r\n                if (_this.beforeItemsRemovedSubject.isValueCreated) {\r\n                    _this.beforeItemsRemovedSubject.value.onNext({ items: items, from: index });\r\n                }\r\n                _this.inner.splice(index, count);\r\n                if (_this.changeTrackingEnabled) {\r\n                    items.forEach(function (x) {\r\n                        _this.removeItemFromPropertyTracking(x);\r\n                    });\r\n                }\r\n                if (_this.itemsRemovedSubject.isValueCreated) {\r\n                    _this.itemsRemovedSubject.value.onNext({ items: items, from: index });\r\n                }\r\n            }\r\n        });\r\n    };\r\n    ObservableList.prototype.toArray = function () {\r\n        return this.inner;\r\n    };\r\n    ObservableList.prototype.reset = function (contents) {\r\n        var _this = this;\r\n        if (contents == null) {\r\n            this.publishResetNotification();\r\n        }\r\n        else {\r\n            Utils_1.using(this.suppressChangeNotifications(), function (suppress) {\r\n                _this.clear();\r\n                _this.addRange(contents);\r\n            });\r\n        }\r\n    };\r\n    ObservableList.prototype.add = function (item) {\r\n        this.insertItem(this.inner.length, item);\r\n    };\r\n    ObservableList.prototype.clear = function () {\r\n        this.clearItems();\r\n    };\r\n    ObservableList.prototype.contains = function (item) {\r\n        return this.inner.indexOf(item) !== -1;\r\n    };\r\n    ObservableList.prototype.remove = function (item) {\r\n        var index = this.inner.indexOf(item);\r\n        if (index === -1)\r\n            return false;\r\n        this.removeItem(index);\r\n        return true;\r\n    };\r\n    ObservableList.prototype.indexOf = function (item) {\r\n        return this.inner.indexOf(item);\r\n    };\r\n    ObservableList.prototype.insert = function (index, item) {\r\n        this.insertItem(index, item);\r\n    };\r\n    ObservableList.prototype.removeAt = function (index) {\r\n        this.removeItem(index);\r\n    };\r\n    ObservableList.prototype.move = function (oldIndex, newIndex) {\r\n        this.moveItem(oldIndex, newIndex);\r\n    };\r\n    ObservableList.prototype.project = function () {\r\n        var args = Utils_1.args2Array(arguments);\r\n        var filter = args.shift();\r\n        if (filter != null && Utils_1.isRxObservable(filter)) {\r\n            return new ObservableListProjection(this, undefined, undefined, undefined, filter, args.shift());\r\n        }\r\n        var orderer = args.shift();\r\n        if (orderer != null && Utils_1.isRxObservable(orderer)) {\r\n            return new ObservableListProjection(this, filter, undefined, undefined, orderer, args.shift());\r\n        }\r\n        var selector = args.shift();\r\n        if (selector != null && Utils_1.isRxObservable(selector)) {\r\n            return new ObservableListProjection(this, filter, orderer, undefined, selector, args.shift());\r\n        }\r\n        return new ObservableListProjection(this, filter, orderer, selector, args.shift(), args.shift());\r\n    };\r\n    ObservableList.prototype.page = function (pageSize, currentPage, scheduler) {\r\n        return new ListPaged_1.PagedObservableListProjection(this, pageSize, currentPage, scheduler);\r\n    };\r\n    ObservableList.prototype.suppressChangeNotifications = function () {\r\n        var _this = this;\r\n        this.changeNotificationsSuppressed++;\r\n        if (!this.hasWhinedAboutNoResetSub && this.resetSubCount === 0 && !Utils_1.isInUnitTest()) {\r\n            log.hint(\"suppressChangeNotifications was called (perhaps via addRange), yet you do not have a subscription to shouldReset. This probably isn't what you want, as itemsAdded and friends will appear to 'miss' items\");\r\n            this.hasWhinedAboutNoResetSub = true;\r\n        }\r\n        return Rx.Disposable.create(function () {\r\n            _this.changeNotificationsSuppressed--;\r\n            if (_this.changeNotificationsSuppressed === 0) {\r\n                _this.publishBeforeResetNotification();\r\n                _this.publishResetNotification();\r\n            }\r\n        });\r\n    };\r\n    ObservableList.prototype.get = function (index) {\r\n        return this.inner[index];\r\n    };\r\n    ObservableList.prototype.set = function (index, item) {\r\n        if (!this.areChangeNotificationsEnabled()) {\r\n            if (this.changeTrackingEnabled) {\r\n                this.removeItemFromPropertyTracking(this.inner[index]);\r\n                this.addItemToPropertyTracking(item);\r\n            }\r\n            this.inner[index] = item;\r\n            return;\r\n        }\r\n        if (this.beforeItemReplacedSubject.isValueCreated)\r\n            this.beforeItemReplacedSubject.value.onNext({ from: index, items: [item] });\r\n        if (this.changeTrackingEnabled) {\r\n            this.removeItemFromPropertyTracking(this.inner[index]);\r\n            this.addItemToPropertyTracking(item);\r\n        }\r\n        this.inner[index] = item;\r\n        if (this.itemReplacedSubject.isValueCreated)\r\n            this.itemReplacedSubject.value.onNext({ from: index, items: [item] });\r\n    };\r\n    ObservableList.prototype.sort = function (comparison) {\r\n        this.publishBeforeResetNotification();\r\n        this.inner.sort(comparison);\r\n        this.publishResetNotification();\r\n    };\r\n    ObservableList.prototype.forEach = function (callbackfn, thisArg) {\r\n        this.inner.forEach(callbackfn, thisArg);\r\n    };\r\n    ObservableList.prototype.map = function (callbackfn, thisArg) {\r\n        return this.inner.map(callbackfn, thisArg);\r\n    };\r\n    ObservableList.prototype.filter = function (callbackfn, thisArg) {\r\n        return this.inner.filter(callbackfn, thisArg);\r\n    };\r\n    ObservableList.prototype.some = function (callbackfn, thisArg) {\r\n        return this.inner.some(callbackfn, thisArg);\r\n    };\r\n    ObservableList.prototype.every = function (callbackfn, thisArg) {\r\n        return this.inner.every(callbackfn, thisArg);\r\n    };\r\n    ObservableList.prototype.setupRx = function (initialContents, resetChangeThreshold, scheduler) {\r\n        if (resetChangeThreshold === void 0) { resetChangeThreshold = 0.3; }\r\n        if (scheduler === void 0) { scheduler = null; }\r\n        scheduler = scheduler || Injector_1.injector.get(res.app).mainThreadScheduler;\r\n        this.resetChangeThreshold = resetChangeThreshold;\r\n        if (this.inner === undefined)\r\n            this.inner = new Array();\r\n        this.beforeItemsAddedSubject = new Lazy_1.default(function () { return new Rx.Subject(); });\r\n        this.itemsAddedSubject = new Lazy_1.default(function () { return new Rx.Subject(); });\r\n        this.beforeItemsRemovedSubject = new Lazy_1.default(function () { return new Rx.Subject(); });\r\n        this.itemsRemovedSubject = new Lazy_1.default(function () { return new Rx.Subject(); });\r\n        this.beforeItemReplacedSubject = new Lazy_1.default(function () { return new Rx.Subject(); });\r\n        this.itemReplacedSubject = new Lazy_1.default(function () { return new Rx.Subject(); });\r\n        this.resetSubject = new Rx.Subject();\r\n        this.beforeResetSubject = new Rx.Subject();\r\n        this.itemChangingSubject = new Lazy_1.default(function () {\r\n            return ScheduledSubject_1.createScheduledSubject(scheduler);\r\n        });\r\n        this.itemChangedSubject = new Lazy_1.default(function () {\r\n            return ScheduledSubject_1.createScheduledSubject(scheduler);\r\n        });\r\n        this.beforeItemsMovedSubject = new Lazy_1.default(function () { return new Rx.Subject(); });\r\n        this.itemsMovedSubject = new Lazy_1.default(function () { return new Rx.Subject(); });\r\n        this.listChanged = Rx.Observable.merge(this.itemsAdded.select(function (x) { return false; }), this.itemsRemoved.select(function (x) { return false; }), this.itemReplaced.select(function (x) { return false; }), this.itemsMoved.select(function (x) { return false; }), this.resetSubject.select(function (x) { return true; }))\r\n            .publish()\r\n            .refCount();\r\n        this.listChanging = Rx.Observable.merge(this.beforeItemsAdded.select(function (x) { return false; }), this.beforeItemsRemoved.select(function (x) { return false; }), this.beforeItemReplaced.select(function (x) { return false; }), this.beforeItemsMoved.select(function (x) { return false; }), this.beforeResetSubject.select(function (x) { return true; }))\r\n            .publish()\r\n            .refCount();\r\n        if (initialContents) {\r\n            Array.prototype.splice.apply(this.inner, [0, 0].concat(initialContents));\r\n        }\r\n        this.length = this.lengthChanged.toProperty(this.inner.length);\r\n        this.disposables.add(this.length);\r\n        this.isEmpty = this.lengthChanged\r\n            .select(function (x) { return (x === 0); })\r\n            .toProperty(this.inner.length === 0);\r\n        this.disposables.add(this.isEmpty);\r\n    };\r\n    ObservableList.prototype.areChangeNotificationsEnabled = function () {\r\n        return this.changeNotificationsSuppressed === 0;\r\n    };\r\n    ObservableList.prototype.insertItem = function (index, item) {\r\n        if (!this.areChangeNotificationsEnabled()) {\r\n            this.inner.splice(index, 0, item);\r\n            if (this.changeTrackingEnabled)\r\n                this.addItemToPropertyTracking(item);\r\n            return;\r\n        }\r\n        if (this.beforeItemsAddedSubject.isValueCreated)\r\n            this.beforeItemsAddedSubject.value.onNext({ items: [item], from: index });\r\n        this.inner.splice(index, 0, item);\r\n        if (this.itemsAddedSubject.isValueCreated)\r\n            this.itemsAddedSubject.value.onNext({ items: [item], from: index });\r\n        if (this.changeTrackingEnabled)\r\n            this.addItemToPropertyTracking(item);\r\n    };\r\n    ObservableList.prototype.removeItem = function (index) {\r\n        var item = this.inner[index];\r\n        if (!this.areChangeNotificationsEnabled()) {\r\n            this.inner.splice(index, 1);\r\n            if (this.changeTrackingEnabled)\r\n                this.removeItemFromPropertyTracking(item);\r\n            return;\r\n        }\r\n        if (this.beforeItemsRemovedSubject.isValueCreated)\r\n            this.beforeItemsRemovedSubject.value.onNext({ items: [item], from: index });\r\n        this.inner.splice(index, 1);\r\n        if (this.itemsRemovedSubject.isValueCreated)\r\n            this.itemsRemovedSubject.value.onNext({ items: [item], from: index });\r\n        if (this.changeTrackingEnabled)\r\n            this.removeItemFromPropertyTracking(item);\r\n    };\r\n    ObservableList.prototype.moveItem = function (oldIndex, newIndex) {\r\n        var item = this.inner[oldIndex];\r\n        if (!this.areChangeNotificationsEnabled()) {\r\n            this.inner.splice(oldIndex, 1);\r\n            this.inner.splice(newIndex, 0, item);\r\n            return;\r\n        }\r\n        var mi = { items: [item], from: oldIndex, to: newIndex };\r\n        if (this.beforeItemsMovedSubject.isValueCreated)\r\n            this.beforeItemsMovedSubject.value.onNext(mi);\r\n        this.inner.splice(oldIndex, 1);\r\n        this.inner.splice(newIndex, 0, item);\r\n        if (this.itemsMovedSubject.isValueCreated)\r\n            this.itemsMovedSubject.value.onNext(mi);\r\n    };\r\n    ObservableList.prototype.clearItems = function () {\r\n        if (!this.areChangeNotificationsEnabled()) {\r\n            this.inner.length = 0; // see http://stackoverflow.com/a/1232046/88513\r\n            if (this.changeTrackingEnabled)\r\n                this.clearAllPropertyChangeWatchers();\r\n            return;\r\n        }\r\n        this.publishBeforeResetNotification();\r\n        this.inner.length = 0; // see http://stackoverflow.com/a/1232046/88513\r\n        this.publishResetNotification();\r\n        if (this.changeTrackingEnabled)\r\n            this.clearAllPropertyChangeWatchers();\r\n    };\r\n    ObservableList.prototype.addItemToPropertyTracking = function (toTrack) {\r\n        var rcd = this.propertyChangeWatchers[Oid_1.getOid(toTrack)];\r\n        var self = this;\r\n        if (rcd) {\r\n            rcd.addRef();\r\n            return;\r\n        }\r\n        var changing = Utils_1.observeObject(toTrack, this.app.defaultExceptionHandler, true)\r\n            .select(function (i) { return new Events_1.PropertyChangedEventArgs(toTrack, i.propertyName); });\r\n        var changed = Utils_1.observeObject(toTrack, this.app.defaultExceptionHandler, false)\r\n            .select(function (i) { return new Events_1.PropertyChangedEventArgs(toTrack, i.propertyName); });\r\n        var disp = new Rx.CompositeDisposable(changing.where(function (_) { return self.areChangeNotificationsEnabled(); }).subscribe(function (x) { return self.itemChangingSubject.value.onNext(x); }), changed.where(function (_) { return self.areChangeNotificationsEnabled(); }).subscribe(function (x) { return self.itemChangedSubject.value.onNext(x); }));\r\n        this.propertyChangeWatchers[Oid_1.getOid(toTrack)] = new RefCountDisposeWrapper_1.default(Rx.Disposable.create(function () {\r\n            disp.dispose();\r\n            delete self.propertyChangeWatchers[Oid_1.getOid(toTrack)];\r\n        }));\r\n    };\r\n    ObservableList.prototype.removeItemFromPropertyTracking = function (toUntrack) {\r\n        var rcd = this.propertyChangeWatchers[Oid_1.getOid(toUntrack)];\r\n        if (rcd) {\r\n            rcd.release();\r\n        }\r\n    };\r\n    ObservableList.prototype.clearAllPropertyChangeWatchers = function () {\r\n        var _this = this;\r\n        if (this.propertyChangeWatchers != null) {\r\n            Object.keys(this.propertyChangeWatchers).forEach(function (x) {\r\n                _this.propertyChangeWatchers[x].release();\r\n            });\r\n            this.propertyChangeWatchers = null;\r\n        }\r\n    };\r\n    ObservableList.prototype.refcountSubscribers = function (input, block) {\r\n        return Rx.Observable.create(function (subj) {\r\n            block(1);\r\n            return new Rx.CompositeDisposable(input.subscribe(subj), Rx.Disposable.create(function () { return block(-1); }));\r\n        });\r\n    };\r\n    ObservableList.prototype.publishResetNotification = function () {\r\n        this.resetSubject.onNext(true);\r\n    };\r\n    ObservableList.prototype.publishBeforeResetNotification = function () {\r\n        this.beforeResetSubject.onNext(true);\r\n    };\r\n    ObservableList.prototype.isLengthAboveResetThreshold = function (toChangeLength) {\r\n        return toChangeLength / this.inner.length > this.resetChangeThreshold && toChangeLength > 10;\r\n    };\r\n    return ObservableList;\r\n}());\r\nexports.ObservableList = ObservableList;\r\n/**\r\n* Creates a new observable list with optional default contents\r\n* @param {Array<T>} initialContents The initial contents of the list\r\n* @param {number = 0.3} resetChangeThreshold\r\n*/\r\nfunction list(initialContents, resetChangeThreshold, scheduler) {\r\n    if (resetChangeThreshold === void 0) { resetChangeThreshold = 0.3; }\r\n    if (scheduler === void 0) { scheduler = null; }\r\n    return new ObservableList(initialContents, resetChangeThreshold, scheduler);\r\n}\r\nexports.list = list;\r\nvar ObservableListProjection = (function (_super) {\r\n    __extends(ObservableListProjection, _super);\r\n    function ObservableListProjection(source, filter, orderer, selector, refreshTrigger, scheduler) {\r\n        _super.call(this);\r\n        // This list maps indices in this collection to their corresponding indices in the source collection.\r\n        this.indexToSourceIndexMap = [];\r\n        this.sourceCopy = [];\r\n        this.disp = new Rx.CompositeDisposable();\r\n        this.source = source;\r\n        this.selector = selector || (function (x) { return x; });\r\n        this._filter = filter;\r\n        this.orderer = orderer;\r\n        this.refreshTrigger = refreshTrigger;\r\n        this.scheduler = scheduler || Rx.Scheduler.immediate;\r\n        this.addAllItemsFromSourceCollection();\r\n        this.wireUpChangeNotifications();\r\n    }\r\n    Object.defineProperty(ObservableListProjection.prototype, \"isReadOnly\", {\r\n        //////////////////////////////////\r\n        // ObservableList overrides to enforce readonly contract\r\n        get: function () {\r\n            return true;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ObservableListProjection.prototype.set = function (index, item) {\r\n        Utils_1.throwError(this.readonlyExceptionMessage);\r\n    };\r\n    ObservableListProjection.prototype.addRange = function (items) {\r\n        Utils_1.throwError(this.readonlyExceptionMessage);\r\n    };\r\n    ObservableListProjection.prototype.insertRange = function (index, items) {\r\n        Utils_1.throwError(this.readonlyExceptionMessage);\r\n    };\r\n    ObservableListProjection.prototype.removeAll = function (itemsOrSelector) {\r\n        Utils_1.throwError(this.readonlyExceptionMessage);\r\n        return undefined;\r\n    };\r\n    ObservableListProjection.prototype.removeRange = function (index, count) {\r\n        Utils_1.throwError(this.readonlyExceptionMessage);\r\n    };\r\n    ObservableListProjection.prototype.add = function (item) {\r\n        Utils_1.throwError(this.readonlyExceptionMessage);\r\n    };\r\n    ObservableListProjection.prototype.clear = function () {\r\n        Utils_1.throwError(this.readonlyExceptionMessage);\r\n    };\r\n    ObservableListProjection.prototype.remove = function (item) {\r\n        Utils_1.throwError(this.readonlyExceptionMessage);\r\n        return undefined;\r\n    };\r\n    ObservableListProjection.prototype.insert = function (index, item) {\r\n        Utils_1.throwError(this.readonlyExceptionMessage);\r\n    };\r\n    ObservableListProjection.prototype.removeAt = function (index) {\r\n        Utils_1.throwError(this.readonlyExceptionMessage);\r\n    };\r\n    ObservableListProjection.prototype.move = function (oldIndex, newIndex) {\r\n        Utils_1.throwError(this.readonlyExceptionMessage);\r\n    };\r\n    ObservableListProjection.prototype.sort = function (comparison) {\r\n        Utils_1.throwError(this.readonlyExceptionMessage);\r\n    };\r\n    ObservableListProjection.prototype.reset = function () {\r\n        var _this = this;\r\n        Utils_1.using(_super.prototype.suppressChangeNotifications.call(this), function () {\r\n            _super.prototype.clear.call(_this);\r\n            _this.indexToSourceIndexMap = [];\r\n            _this.sourceCopy = [];\r\n            _this.addAllItemsFromSourceCollection();\r\n        });\r\n    };\r\n    //////////////////////////////////\r\n    // IDisposable implementation\r\n    ObservableListProjection.prototype.dispose = function () {\r\n        this.disp.dispose();\r\n        _super.prototype.dispose.call(this);\r\n    };\r\n    ObservableListProjection.prototype.referenceEquals = function (a, b) {\r\n        return Oid_1.getOid(a) === Oid_1.getOid(b);\r\n    };\r\n    ObservableListProjection.prototype.refresh = function () {\r\n        var length = this.sourceCopy.length;\r\n        var sourceCopyIds = this.sourceCopy.map(function (x) { return Oid_1.getOid(x); });\r\n        for (var i = 0; i < length; i++) {\r\n            this.onItemChanged(this.sourceCopy[i], sourceCopyIds);\r\n        }\r\n    };\r\n    ObservableListProjection.prototype.wireUpChangeNotifications = function () {\r\n        var _this = this;\r\n        this.disp.add(this.source.itemsAdded.observeOn(this.scheduler).subscribe(function (e) {\r\n            _this.onItemsAdded(e);\r\n        }));\r\n        this.disp.add(this.source.itemsRemoved.observeOn(this.scheduler).subscribe(function (e) {\r\n            _this.onItemsRemoved(e);\r\n        }));\r\n        this.disp.add(this.source.itemsMoved.observeOn(this.scheduler).subscribe(function (e) {\r\n            _this.onItemsMoved(e);\r\n        }));\r\n        this.disp.add(this.source.itemReplaced.observeOn(this.scheduler).subscribe(function (e) {\r\n            _this.onItemsReplaced(e);\r\n        }));\r\n        this.disp.add(this.source.shouldReset.observeOn(this.scheduler).subscribe(function (e) {\r\n            _this.reset();\r\n        }));\r\n        this.disp.add(this.source.itemChanged.select(function (x) { return x.sender; })\r\n            .observeOn(this.scheduler)\r\n            .subscribe(function (x) { return _this.onItemChanged(x); }));\r\n        if (this.refreshTrigger != null) {\r\n            this.disp.add(this.refreshTrigger.observeOn(this.scheduler).subscribe(function (_) { return _this.refresh(); }));\r\n        }\r\n    };\r\n    ObservableListProjection.prototype.onItemsAdded = function (e) {\r\n        this.shiftIndicesAtOrOverThreshold(e.from, e.items.length);\r\n        for (var i = 0; i < e.items.length; i++) {\r\n            var sourceItem = e.items[i];\r\n            this.sourceCopy.splice(e.from + i, 0, sourceItem);\r\n            if (this._filter && !this._filter(sourceItem)) {\r\n                continue;\r\n            }\r\n            var destinationItem = this.selector(sourceItem);\r\n            this.insertAndMap(e.from + i, destinationItem);\r\n        }\r\n    };\r\n    ObservableListProjection.prototype.onItemsRemoved = function (e) {\r\n        this.sourceCopy.splice(e.from, e.items.length);\r\n        for (var i = 0; i < e.items.length; i++) {\r\n            var destinationIndex = this.getIndexFromSourceIndex(e.from + i);\r\n            if (destinationIndex !== -1) {\r\n                this.removeAtInternal(destinationIndex);\r\n            }\r\n        }\r\n        var removedCount = e.items.length;\r\n        this.shiftIndicesAtOrOverThreshold(e.from + removedCount, -removedCount);\r\n    };\r\n    ObservableListProjection.prototype.onItemsMoved = function (e) {\r\n        if (e.items.length > 1) {\r\n            Utils_1.throwError(\"Derived collections doesn't support multi-item moves\");\r\n        }\r\n        if (e.from === e.to) {\r\n            return;\r\n        }\r\n        var oldSourceIndex = e.from;\r\n        var newSourceIndex = e.to;\r\n        this.sourceCopy.splice(oldSourceIndex, 1);\r\n        this.sourceCopy.splice(newSourceIndex, 0, e.items[0]);\r\n        var currentDestinationIndex = this.getIndexFromSourceIndex(oldSourceIndex);\r\n        this.moveSourceIndexInMap(oldSourceIndex, newSourceIndex);\r\n        if (currentDestinationIndex === -1) {\r\n            return;\r\n        }\r\n        if (this.orderer == null) {\r\n            // We mirror the order of the source collection so we'll perform the same move operation\r\n            // as the source. As is the case with when we have an orderer we don't test whether or not\r\n            // the item should be included or not here. If it has been included at some point it'll\r\n            // stay included until onItemChanged picks up a change which filters it.\r\n            var newDestinationIndex = ObservableListProjection.newPositionForExistingItem2(this.indexToSourceIndexMap, newSourceIndex, currentDestinationIndex);\r\n            if (newDestinationIndex !== currentDestinationIndex) {\r\n                this.indexToSourceIndexMap.splice(currentDestinationIndex, 1);\r\n                this.indexToSourceIndexMap.splice(newDestinationIndex, 0, newSourceIndex);\r\n                _super.prototype.move.call(this, currentDestinationIndex, newDestinationIndex);\r\n            }\r\n            else {\r\n                this.indexToSourceIndexMap[currentDestinationIndex] = newSourceIndex;\r\n            }\r\n        }\r\n        else {\r\n            // TODO: Conceptually I feel like we shouldn't concern ourselves with ordering when we\r\n            // receive a Move notification. If it affects ordering it should be picked up by the\r\n            // onItemChange and resorted there instead.\r\n            this.indexToSourceIndexMap[currentDestinationIndex] = newSourceIndex;\r\n        }\r\n    };\r\n    ObservableListProjection.prototype.onItemsReplaced = function (e) {\r\n        var sourceOids = this.isLengthAboveResetThreshold(e.items.length) ?\r\n            this.sourceCopy.map(function (x) { return Oid_1.getOid(x); }) :\r\n            null;\r\n        for (var i = 0; i < e.items.length; i++) {\r\n            var sourceItem = e.items[i];\r\n            this.sourceCopy[e.from + i] = sourceItem;\r\n            if (sourceOids)\r\n                sourceOids[e.from + i] = Oid_1.getOid(sourceItem);\r\n            this.onItemChanged(sourceItem, sourceOids);\r\n        }\r\n    };\r\n    ObservableListProjection.prototype.onItemChanged = function (changedItem, sourceOids) {\r\n        var sourceIndices = this.indexOfAll(this.sourceCopy, changedItem, sourceOids);\r\n        var shouldBeIncluded = !this._filter || this._filter(changedItem);\r\n        var sourceIndicesLength = sourceIndices.length;\r\n        for (var i = 0; i < sourceIndicesLength; i++) {\r\n            var sourceIndex = sourceIndices[i];\r\n            var currentDestinationIndex = this.getIndexFromSourceIndex(sourceIndex);\r\n            var isIncluded = currentDestinationIndex >= 0;\r\n            if (isIncluded && !shouldBeIncluded) {\r\n                this.removeAtInternal(currentDestinationIndex);\r\n            }\r\n            else if (!isIncluded && shouldBeIncluded) {\r\n                this.insertAndMap(sourceIndex, this.selector(changedItem));\r\n            }\r\n            else if (isIncluded && shouldBeIncluded) {\r\n                // The item is already included and it should stay there but it's possible that the change that\r\n                // caused this event affects the ordering. This gets a little tricky so let's be verbose.\r\n                var newItem = this.selector(changedItem);\r\n                if (this.orderer == null) {\r\n                    // We don't have an orderer so we're currently using the source collection index for sorting\r\n                    // meaning that no item change will affect ordering. Look at our current item and see if it's\r\n                    // the exact (reference-wise) same object. If it is then we're done, if it's not (for example\r\n                    // if it's an integer) we'll issue a replace event so that subscribers get the new value.\r\n                    if (!this.referenceEquals(newItem, this.get(currentDestinationIndex))) {\r\n                        _super.prototype.set.call(this, currentDestinationIndex, newItem);\r\n                    }\r\n                }\r\n                else {\r\n                    // Don't be tempted to just use the orderer to compare the new item with the previous since\r\n                    // they'll almost certainly be equal (for reference types). We need to test whether or not the\r\n                    // new item can stay in the same position that the current item is in without comparing them.\r\n                    if (this.canItemStayAtPosition(newItem, currentDestinationIndex)) {\r\n                        // The new item should be in the same position as the current but there's no need to signal\r\n                        // that in case they are the same object.\r\n                        if (!this.referenceEquals(newItem, this.get(currentDestinationIndex))) {\r\n                            _super.prototype.set.call(this, currentDestinationIndex, newItem);\r\n                        }\r\n                    }\r\n                    else {\r\n                        // The change is forcing us to reorder. We'll use a move operation if the item hasn't\r\n                        // changed (ie it's the same object) and we'll implement it as a remove and add if the\r\n                        // object has changed (ie the selector is not an identity function).\r\n                        if (this.referenceEquals(newItem, this.get(currentDestinationIndex))) {\r\n                            var newDestinationIndex = this.newPositionForExistingItem(sourceIndex, currentDestinationIndex, newItem);\r\n                            // Debug.Assert(newDestinationIndex != currentDestinationIndex, \"This can't be, canItemStayAtPosition said it this couldn't happen\");\r\n                            this.indexToSourceIndexMap.splice(currentDestinationIndex, 1);\r\n                            this.indexToSourceIndexMap.splice(newDestinationIndex, 0, sourceIndex);\r\n                            _super.prototype.move.call(this, currentDestinationIndex, newDestinationIndex);\r\n                        }\r\n                        else {\r\n                            this.removeAtInternal(currentDestinationIndex);\r\n                            this.insertAndMap(sourceIndex, newItem);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    };\r\n    /// <summary>\r\n    /// Gets a value indicating whether or not the item fits (sort-wise) at the provided index. The determination\r\n    /// is made by checking whether or not it's considered larger than or equal to the preceeding item and if\r\n    /// it's less than or equal to the succeeding item.\r\n    /// </summary>\r\n    ObservableListProjection.prototype.canItemStayAtPosition = function (item, currentIndex) {\r\n        var hasPrecedingItem = currentIndex > 0;\r\n        if (hasPrecedingItem) {\r\n            var isGreaterThanOrEqualToPrecedingItem = this.orderer(item, this.get(currentIndex - 1)) >= 0;\r\n            if (!isGreaterThanOrEqualToPrecedingItem) {\r\n                return false;\r\n            }\r\n        }\r\n        var hasSucceedingItem = currentIndex < this.length() - 1;\r\n        if (hasSucceedingItem) {\r\n            var isLessThanOrEqualToSucceedingItem = this.orderer(item, this.get(currentIndex + 1)) <= 0;\r\n            if (!isLessThanOrEqualToSucceedingItem) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    };\r\n    /// <summary>\r\n    /// Gets the index of the dervived item super. on it's originating element index in the source collection.\r\n    /// </summary>\r\n    ObservableListProjection.prototype.getIndexFromSourceIndex = function (sourceIndex) {\r\n        return this.indexToSourceIndexMap.indexOf(sourceIndex);\r\n    };\r\n    /// <summary>\r\n    /// Returns one or more positions in the source collection where the given item is found in source collection\r\n    /// </summary>\r\n    ObservableListProjection.prototype.indexOfAll = function (source, item, sourceOids) {\r\n        var indices = [];\r\n        var sourceIndex = 0;\r\n        var sourceLength = source.length;\r\n        if (sourceOids) {\r\n            var itemOid = Oid_1.getOid(item);\r\n            for (var i = 0; i < sourceLength; i++) {\r\n                var oid = sourceOids[i];\r\n                if (itemOid === oid) {\r\n                    indices.push(sourceIndex);\r\n                }\r\n                sourceIndex++;\r\n            }\r\n        }\r\n        else {\r\n            for (var i = 0; i < sourceLength; i++) {\r\n                var x = source[i];\r\n                if (this.referenceEquals(x, item)) {\r\n                    indices.push(sourceIndex);\r\n                }\r\n                sourceIndex++;\r\n            }\r\n        }\r\n        return indices;\r\n    };\r\n    /// <summary>\r\n    /// Increases (or decreases depending on move direction) all source indices between the source and destination\r\n    /// move indices.\r\n    /// </summary>\r\n    ObservableListProjection.prototype.moveSourceIndexInMap = function (oldSourceIndex, newSourceIndex) {\r\n        if (newSourceIndex > oldSourceIndex) {\r\n            // Item is moving towards the end of the list, everything between its current position and its\r\n            // new position needs to be shifted down one index\r\n            this.shiftSourceIndicesInRange(oldSourceIndex + 1, newSourceIndex + 1, -1);\r\n        }\r\n        else {\r\n            // Item is moving towards the front of the list, everything between its current position and its\r\n            // new position needs to be shifted up one index\r\n            this.shiftSourceIndicesInRange(newSourceIndex, oldSourceIndex, 1);\r\n        }\r\n    };\r\n    /// <summary>\r\n    /// Increases (or decreases) all source indices equal to or higher than the threshold. Represents an\r\n    /// insert or remove of one or more items in the source list thus causing all subsequent items to shift\r\n    /// up or down.\r\n    /// </summary>\r\n    ObservableListProjection.prototype.shiftIndicesAtOrOverThreshold = function (threshold, value) {\r\n        for (var i = 0; i < this.indexToSourceIndexMap.length; i++) {\r\n            if (this.indexToSourceIndexMap[i] >= threshold) {\r\n                this.indexToSourceIndexMap[i] += value;\r\n            }\r\n        }\r\n    };\r\n    /// <summary>\r\n    /// Increases (or decreases) all source indices within the range (lower inclusive, upper exclusive).\r\n    /// </summary>\r\n    ObservableListProjection.prototype.shiftSourceIndicesInRange = function (rangeStart, rangeStop, value) {\r\n        for (var i = 0; i < this.indexToSourceIndexMap.length; i++) {\r\n            var sourceIndex = this.indexToSourceIndexMap[i];\r\n            if (sourceIndex >= rangeStart && sourceIndex < rangeStop) {\r\n                this.indexToSourceIndexMap[i] += value;\r\n            }\r\n        }\r\n    };\r\n    ObservableListProjection.prototype.addAllItemsFromSourceCollection = function () {\r\n        // Debug.Assert(sourceCopy.length == 0, \"Expected source copy to be empty\");\r\n        var sourceIndex = 0;\r\n        var length = this.source.length();\r\n        for (var i = 0; i < length; i++) {\r\n            var sourceItem = this.source.get(i);\r\n            this.sourceCopy.push(sourceItem);\r\n            if (!this._filter || this._filter(sourceItem)) {\r\n                var destinationItem = this.selector(sourceItem);\r\n                this.insertAndMap(sourceIndex, destinationItem);\r\n            }\r\n            sourceIndex++;\r\n        }\r\n    };\r\n    ObservableListProjection.prototype.insertAndMap = function (sourceIndex, value) {\r\n        var destinationIndex = this.positionForNewItem(sourceIndex, value);\r\n        this.indexToSourceIndexMap.splice(destinationIndex, 0, sourceIndex);\r\n        _super.prototype.insert.call(this, destinationIndex, value);\r\n    };\r\n    ObservableListProjection.prototype.removeAtInternal = function (destinationIndex) {\r\n        this.indexToSourceIndexMap.splice(destinationIndex, 1);\r\n        _super.prototype.removeAt.call(this, destinationIndex);\r\n    };\r\n    ObservableListProjection.prototype.positionForNewItem = function (sourceIndex, value) {\r\n        // If we haven't got an orderer we'll simply match our items to that of the source collection.\r\n        return this.orderer == null\r\n            ? ObservableListProjection.positionForNewItemArray(this.indexToSourceIndexMap, sourceIndex, ObservableListProjection.defaultOrderer)\r\n            : ObservableListProjection.positionForNewItemArray2(this.inner, 0, this.inner.length, value, this.orderer);\r\n    };\r\n    ObservableListProjection.positionForNewItemArray = function (array, item, orderer) {\r\n        return ObservableListProjection.positionForNewItemArray2(array, 0, array.length, item, orderer);\r\n    };\r\n    ObservableListProjection.positionForNewItemArray2 = function (array, index, count, item, orderer) {\r\n        // Debug.Assert(index >= 0);\r\n        // Debug.Assert(count >= 0);\r\n        // Debug.Assert((list.length - index) >= count);\r\n        if (count === 0) {\r\n            return index;\r\n        }\r\n        if (count === 1) {\r\n            return orderer(array[index], item) >= 0 ? index : index + 1;\r\n        }\r\n        if (orderer(array[index], item) >= 1)\r\n            return index;\r\n        var low = index, hi = index + count - 1;\r\n        var cmp;\r\n        while (low <= hi) {\r\n            var mid = Math.floor(low + (hi - low) / 2);\r\n            cmp = orderer(array[mid], item);\r\n            if (cmp === 0) {\r\n                return mid;\r\n            }\r\n            if (cmp < 0) {\r\n                low = mid + 1;\r\n            }\r\n            else {\r\n                hi = mid - 1;\r\n            }\r\n        }\r\n        return low;\r\n    };\r\n    /// <summary>\r\n    /// Calculates a new destination for an updated item that's already in the list.\r\n    /// </summary>\r\n    ObservableListProjection.prototype.newPositionForExistingItem = function (sourceIndex, currentIndex, item) {\r\n        // If we haven't got an orderer we'll simply match our items to that of the source collection.\r\n        return this.orderer == null\r\n            ? ObservableListProjection.newPositionForExistingItem2(this.indexToSourceIndexMap, sourceIndex, currentIndex)\r\n            : ObservableListProjection.newPositionForExistingItem2(this.inner, item, currentIndex, this.orderer);\r\n    };\r\n    /// <summary>\r\n    /// Calculates a new destination for an updated item that's already in the list.\r\n    /// </summary>\r\n    ObservableListProjection.newPositionForExistingItem2 = function (array, item, currentIndex, orderer) {\r\n        // Since the item changed is most likely a value type we must refrain from ever comparing it to itself.\r\n        // We do this by figuring out how the updated item compares to its neighbors. By knowing if it's\r\n        // less than or greater than either one of its neighbors we can limit the search range to a range exlusive\r\n        // of the current index.\r\n        // Debug.Assert(list.length > 0);\r\n        if (array.length === 1) {\r\n            return 0;\r\n        }\r\n        var precedingIndex = currentIndex - 1;\r\n        var succeedingIndex = currentIndex + 1;\r\n        // The item on the preceding or succeeding index relative to currentIndex.\r\n        var comparand = array[precedingIndex >= 0 ? precedingIndex : succeedingIndex];\r\n        if (orderer == null) {\r\n            orderer = ObservableListProjection.defaultOrderer;\r\n        }\r\n        // Compare that to the (potentially) new value.\r\n        var cmp = orderer(item, comparand);\r\n        var min = 0;\r\n        var max = array.length;\r\n        if (cmp === 0) {\r\n            // The new value is equal to the preceding or succeeding item, it may stay at the current position\r\n            return currentIndex;\r\n        }\r\n        else if (cmp > 0) {\r\n            // The new value is greater than the preceding or succeeding item, limit the search to indices after\r\n            // the succeeding item.\r\n            min = succeedingIndex;\r\n        }\r\n        else {\r\n            // The new value is less than the preceding or succeeding item, limit the search to indices before\r\n            // the preceding item.\r\n            max = precedingIndex;\r\n        }\r\n        // Bail if the search range is invalid.\r\n        if (min === array.length || max < 0) {\r\n            return currentIndex;\r\n        }\r\n        var ix = ObservableListProjection.positionForNewItemArray2(array, min, max - min, item, orderer);\r\n        // If the item moves 'forward' in the collection we have to account for the index where\r\n        // the item currently resides getting removed first.\r\n        return ix >= currentIndex ? ix - 1 : ix;\r\n    };\r\n    ObservableListProjection.defaultOrderer = function (a, b) {\r\n        var result;\r\n        if (a == null && b == null)\r\n            result = 0;\r\n        else if (a == null)\r\n            result = -1;\r\n        else if (b == null)\r\n            result = 1;\r\n        else\r\n            result = a - b;\r\n        return result;\r\n    };\r\n    return ObservableListProjection;\r\n}(ObservableList));\r\n//# sourceMappingURL=List.js.map\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./build/src/es5/Collections/List.js\n ** module id = 9\n ** module chunks = 0\n **/","\"use strict\";\r\n/**\r\n* .Net's Lazy<T>\r\n* @class\r\n*/\r\nvar Lazy = (function () {\r\n    function Lazy(createValue) {\r\n        this.createValue = createValue;\r\n    }\r\n    Object.defineProperty(Lazy.prototype, \"value\", {\r\n        get: function () {\r\n            if (!this.isValueCreated) {\r\n                this.createdValue = this.createValue();\r\n                this.isValueCreated = true;\r\n            }\r\n            return this.createdValue;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return Lazy;\r\n}());\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.default = Lazy;\r\n//# sourceMappingURL=Lazy.js.map\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./build/src/es5/Core/Lazy.js\n ** module id = 10\n ** module chunks = 0\n **/","\"use strict\";\r\nvar Utils_1 = require(\"../Core/Utils\");\r\n\"use strict\";\r\nvar ScheduledSubject = (function () {\r\n    function ScheduledSubject(scheduler, defaultObserver, defaultSubject) {\r\n        this._observerRefCount = 0;\r\n        this._defaultObserverSub = Rx.Disposable.empty;\r\n        this._scheduler = scheduler;\r\n        this._defaultObserver = defaultObserver;\r\n        this._subject = defaultSubject || new Rx.Subject();\r\n        if (defaultObserver != null) {\r\n            this._defaultObserverSub = this._subject\r\n                .observeOn(this._scheduler)\r\n                .subscribe(this._defaultObserver);\r\n        }\r\n    }\r\n    ScheduledSubject.prototype.dispose = function () {\r\n        if (Utils_1.isDisposable(this._subject)) {\r\n            this._subject.dispose();\r\n        }\r\n    };\r\n    ScheduledSubject.prototype.onCompleted = function () {\r\n        this._subject.onCompleted();\r\n    };\r\n    ScheduledSubject.prototype.onError = function (error) {\r\n        this._subject.onError(error);\r\n    };\r\n    ScheduledSubject.prototype.onNext = function (value) {\r\n        this._subject.onNext(value);\r\n    };\r\n    ScheduledSubject.prototype.subscribe = function (observer) {\r\n        var _this = this;\r\n        if (this._defaultObserverSub)\r\n            this._defaultObserverSub.dispose();\r\n        this._observerRefCount++;\r\n        return new Rx.CompositeDisposable(this._subject.observeOn(this._scheduler).subscribe(observer), Rx.Disposable.create(function () {\r\n            if ((--_this._observerRefCount) <= 0 && _this._defaultObserver != null) {\r\n                _this._defaultObserverSub = _this._subject.observeOn(_this._scheduler).subscribe(_this._defaultObserver);\r\n            }\r\n        }));\r\n    };\r\n    return ScheduledSubject;\r\n}());\r\nfunction createScheduledSubject(scheduler, defaultObserver, defaultSubject) {\r\n    var scheduled = new ScheduledSubject(scheduler, defaultObserver, defaultSubject);\r\n    var result = Utils_1.extend(scheduled, new Rx.Subject(), true);\r\n    return result;\r\n}\r\nexports.createScheduledSubject = createScheduledSubject;\r\n//# sourceMappingURL=ScheduledSubject.js.map\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./build/src/es5/Core/ScheduledSubject.js\n ** module id = 11\n ** module chunks = 0\n **/","/// <reference path=\"../Interfaces.ts\" />\r\n\"use strict\";\r\nvar RefCountDisposeWrapper = (function () {\r\n    function RefCountDisposeWrapper(inner, initialRefCount) {\r\n        if (initialRefCount === void 0) { initialRefCount = 1; }\r\n        this.inner = inner;\r\n        this.refCount = initialRefCount;\r\n    }\r\n    RefCountDisposeWrapper.prototype.addRef = function () {\r\n        this.refCount++;\r\n    };\r\n    RefCountDisposeWrapper.prototype.release = function () {\r\n        if (--this.refCount === 0) {\r\n            this.inner.dispose();\r\n            this.inner = null;\r\n        }\r\n        return this.refCount;\r\n    };\r\n    RefCountDisposeWrapper.prototype.dispose = function () {\r\n        this.release();\r\n    };\r\n    return RefCountDisposeWrapper;\r\n}());\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.default = RefCountDisposeWrapper;\r\n//# sourceMappingURL=RefCountDisposeWrapper.js.map\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./build/src/es5/Core/RefCountDisposeWrapper.js\n ** module id = 12\n ** module chunks = 0\n **/","\"use strict\";\r\nvar Utils_1 = require(\"../Core/Utils\");\r\n\"use strict\";\r\nexports.hintEnable = false;\r\nfunction log() {\r\n    var args = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        args[_i - 0] = arguments[_i];\r\n    }\r\n    try {\r\n        console.log.apply(console, arguments);\r\n    }\r\n    catch (e) {\r\n        try {\r\n            window['opera'].postError.apply(window['opera'], arguments);\r\n        }\r\n        catch (e) {\r\n            alert(Array.prototype.join.call(arguments, \" \"));\r\n        }\r\n    }\r\n}\r\nfunction critical(fmt) {\r\n    var args = [];\r\n    for (var _i = 1; _i < arguments.length; _i++) {\r\n        args[_i - 1] = arguments[_i];\r\n    }\r\n    if (args.length) {\r\n        fmt = Utils_1.formatString.apply(null, [fmt].concat(args));\r\n    }\r\n    log(\"**** WebRx Critical: \" + fmt);\r\n}\r\nexports.critical = critical;\r\nfunction error(fmt) {\r\n    var args = [];\r\n    for (var _i = 1; _i < arguments.length; _i++) {\r\n        args[_i - 1] = arguments[_i];\r\n    }\r\n    if (args.length) {\r\n        fmt = Utils_1.formatString.apply(null, [fmt].concat(args));\r\n    }\r\n    log(\"*** WebRx Error: \" + fmt);\r\n}\r\nexports.error = error;\r\nfunction info(fmt) {\r\n    var args = [];\r\n    for (var _i = 1; _i < arguments.length; _i++) {\r\n        args[_i - 1] = arguments[_i];\r\n    }\r\n    if (args.length) {\r\n        fmt = Utils_1.formatString.apply(null, [fmt].concat(args));\r\n    }\r\n    log(\"* WebRx Info: \" + fmt);\r\n}\r\nexports.info = info;\r\nfunction hint(fmt) {\r\n    var args = [];\r\n    for (var _i = 1; _i < arguments.length; _i++) {\r\n        args[_i - 1] = arguments[_i];\r\n    }\r\n    if (!exports.hintEnable)\r\n        return;\r\n    if (args.length) {\r\n        fmt = Utils_1.formatString.apply(null, [fmt].concat(args));\r\n    }\r\n    log(\"* WebRx Hint: \" + fmt);\r\n}\r\nexports.hint = hint;\r\n//# sourceMappingURL=Log.js.map\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./build/src/es5/Core/Log.js\n ** module id = 13\n ** module chunks = 0\n **/","/// <reference path=\"../Interfaces.ts\" />\r\n\"use strict\";\r\nvar Utils_1 = require(\"../Core/Utils\");\r\nvar IID_1 = require(\"./../IID\");\r\nvar Lazy_1 = require(\"./../Core/Lazy\");\r\nvar ScheduledSubject_1 = require(\"./../Core/ScheduledSubject\");\r\nvar Property_1 = require(\"../Core/Property\");\r\n\"use strict\";\r\n/**\r\n* PagedObservableListProjection implements a virtual paging projection over\r\n* an existing observable list. The class solely relies on index translation\r\n* and change notifications from its upstream source. It does not maintain data.\r\n* @class\r\n*/\r\nvar PagedObservableListProjection = (function () {\r\n    function PagedObservableListProjection(source, pageSize, currentPage, scheduler) {\r\n        ////////////////////\r\n        // Implementation\r\n        this.disp = new Rx.CompositeDisposable();\r\n        this.changeNotificationsSuppressed = 0;\r\n        this.resetSubject = new Rx.Subject();\r\n        this.beforeResetSubject = new Rx.Subject();\r\n        this.updateLengthTrigger = new Rx.Subject();\r\n        this.source = source;\r\n        this.scheduler = scheduler || (Utils_1.isRxScheduler(currentPage) ? currentPage : Rx.Scheduler.immediate);\r\n        // IPagedObservableReadOnlyList\r\n        this.pageSize = Property_1.property(pageSize);\r\n        this.currentPage = Property_1.property(currentPage || 0);\r\n        var updateLengthTrigger = Rx.Observable.merge(this.updateLengthTrigger, source.lengthChanged)\r\n            .startWith(true)\r\n            .observeOn(Rx.Scheduler.immediate);\r\n        this.pageCount = Utils_1.whenAny(this.pageSize, updateLengthTrigger, function (ps, _) { return Math.ceil(source.length() / ps); })\r\n            .distinctUntilChanged()\r\n            .toProperty();\r\n        this.disp.add(this.pageCount);\r\n        // length\r\n        this.length = Utils_1.whenAny(this.currentPage, this.pageSize, updateLengthTrigger, function (cp, ps, _) { return Math.max(Math.min(source.length() - (ps * cp), ps), 0); })\r\n            .distinctUntilChanged()\r\n            .toProperty();\r\n        this.disp.add(this.length);\r\n        this.isEmpty = this.lengthChanged\r\n            .select(function (x) { return x === 0; })\r\n            .toProperty(this.length() === 0);\r\n        this.disp.add(this.isEmpty);\r\n        // isEmptyChanged\r\n        this.isEmptyChanged = Utils_1.whenAny(this.length, function (len) { return len == 0; })\r\n            .distinctUntilChanged();\r\n        // IObservableReadOnlyList\r\n        this.beforeItemsAddedSubject = new Lazy_1.default(function () { return new Rx.Subject(); });\r\n        this.itemsAddedSubject = new Lazy_1.default(function () { return new Rx.Subject(); });\r\n        this.beforeItemsRemovedSubject = new Lazy_1.default(function () { return new Rx.Subject(); });\r\n        this.itemsRemovedSubject = new Lazy_1.default(function () { return new Rx.Subject(); });\r\n        this.beforeItemReplacedSubject = new Lazy_1.default(function () { return new Rx.Subject(); });\r\n        this.itemReplacedSubject = new Lazy_1.default(function () { return new Rx.Subject(); });\r\n        this.itemChangingSubject = new Lazy_1.default(function () {\r\n            return ScheduledSubject_1.createScheduledSubject(scheduler);\r\n        });\r\n        this.itemChangedSubject = new Lazy_1.default(function () {\r\n            return ScheduledSubject_1.createScheduledSubject(scheduler);\r\n        });\r\n        this.beforeItemsMovedSubject = new Lazy_1.default(function () { return new Rx.Subject(); });\r\n        this.itemsMovedSubject = new Lazy_1.default(function () { return new Rx.Subject(); });\r\n        // shouldReset (short-circuit)\r\n        this.shouldReset = this.resetSubject.asObservable();\r\n        this.listChanged = Rx.Observable.merge(this.itemsAdded.select(function (x) { return false; }), this.itemsRemoved.select(function (x) { return false; }), this.itemReplaced.select(function (x) { return false; }), this.itemsMoved.select(function (x) { return false; }), this.resetSubject.select(function (x) { return true; }))\r\n            .publish()\r\n            .refCount();\r\n        this.listChanging = Rx.Observable.merge(this.beforeItemsAdded.select(function (x) { return false; }), this.beforeItemsRemoved.select(function (x) { return false; }), this.beforeItemReplaced.select(function (x) { return false; }), this.beforeItemsMoved.select(function (x) { return false; }), this.beforeResetSubject.select(function (x) { return true; }))\r\n            .publish()\r\n            .refCount();\r\n        this.wireUpChangeNotifications();\r\n    }\r\n    //////////////////////////////////\r\n    // IUnknown implementation\r\n    PagedObservableListProjection.prototype.queryInterface = function (iid) {\r\n        return iid === IID_1.default.IObservableList || iid === IID_1.default.IDisposable;\r\n    };\r\n    PagedObservableListProjection.prototype.get = function (index) {\r\n        index = this.pageSize() * this.currentPage() + index;\r\n        return this.source.get(index);\r\n    };\r\n    Object.defineProperty(PagedObservableListProjection.prototype, \"isReadOnly\", {\r\n        get: function () {\r\n            return true;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    PagedObservableListProjection.prototype.indexOf = function (item) {\r\n        return this.toArray().indexOf(item);\r\n    };\r\n    PagedObservableListProjection.prototype.contains = function (item) {\r\n        return this.indexOf(item) !== -1;\r\n    };\r\n    PagedObservableListProjection.prototype.toArray = function () {\r\n        var start = this.pageSize() * this.currentPage();\r\n        return this.source.toArray().slice(start, start + this.length());\r\n    };\r\n    PagedObservableListProjection.prototype.forEach = function (callbackfn, thisArg) {\r\n        this.toArray().forEach(callbackfn, thisArg);\r\n    };\r\n    PagedObservableListProjection.prototype.map = function (callbackfn, thisArg) {\r\n        return this.toArray().map(callbackfn, thisArg);\r\n    };\r\n    PagedObservableListProjection.prototype.filter = function (callbackfn, thisArg) {\r\n        return this.toArray().filter(callbackfn, thisArg);\r\n    };\r\n    PagedObservableListProjection.prototype.some = function (callbackfn, thisArg) {\r\n        return this.toArray().some(callbackfn, thisArg);\r\n    };\r\n    PagedObservableListProjection.prototype.every = function (callbackfn, thisArg) {\r\n        return this.toArray().every(callbackfn, thisArg);\r\n    };\r\n    PagedObservableListProjection.prototype.suppressChangeNotifications = function () {\r\n        var _this = this;\r\n        this.changeNotificationsSuppressed++;\r\n        return Rx.Disposable.create(function () {\r\n            _this.changeNotificationsSuppressed--;\r\n            if (_this.changeNotificationsSuppressed === 0) {\r\n                _this.publishBeforeResetNotification();\r\n                _this.publishResetNotification();\r\n            }\r\n        });\r\n    };\r\n    //////////////////////////////////\r\n    // IDisposable implementation\r\n    PagedObservableListProjection.prototype.dispose = function () {\r\n        this.disp.dispose();\r\n    };\r\n    Object.defineProperty(PagedObservableListProjection.prototype, \"itemsAdded\", {\r\n        get: function () {\r\n            if (!this._itemsAdded)\r\n                this._itemsAdded = this.itemsAddedSubject.value.asObservable();\r\n            return this._itemsAdded;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(PagedObservableListProjection.prototype, \"beforeItemsAdded\", {\r\n        get: function () {\r\n            if (!this._beforeItemsAdded)\r\n                this._beforeItemsAdded = this.beforeItemsAddedSubject.value.asObservable();\r\n            return this._beforeItemsAdded;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(PagedObservableListProjection.prototype, \"itemsRemoved\", {\r\n        get: function () {\r\n            if (!this._itemsRemoved)\r\n                this._itemsRemoved = this.itemsRemovedSubject.value.asObservable();\r\n            return this._itemsRemoved;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(PagedObservableListProjection.prototype, \"beforeItemsRemoved\", {\r\n        get: function () {\r\n            if (!this._beforeItemsRemoved)\r\n                this._beforeItemsRemoved = this.beforeItemsRemovedSubject.value.asObservable();\r\n            return this._beforeItemsRemoved;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(PagedObservableListProjection.prototype, \"itemReplaced\", {\r\n        get: function () {\r\n            if (!this._itemReplaced)\r\n                this._itemReplaced = this.itemReplacedSubject.value.asObservable();\r\n            return this._itemReplaced;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(PagedObservableListProjection.prototype, \"beforeItemReplaced\", {\r\n        get: function () {\r\n            if (!this._beforeItemReplaced)\r\n                this._beforeItemReplaced = this.beforeItemReplacedSubject.value.asObservable();\r\n            return this._beforeItemReplaced;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(PagedObservableListProjection.prototype, \"beforeItemsMoved\", {\r\n        get: function () {\r\n            if (!this._beforeItemsMoved)\r\n                this._beforeItemsMoved = this.beforeItemsMovedSubject.value.asObservable();\r\n            return this._beforeItemsMoved;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(PagedObservableListProjection.prototype, \"itemsMoved\", {\r\n        get: function () {\r\n            if (!this._itemsMoved)\r\n                this._itemsMoved = this.itemsMovedSubject.value.asObservable();\r\n            return this._itemsMoved;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(PagedObservableListProjection.prototype, \"lengthChanging\", {\r\n        get: function () {\r\n            if (!this._lengthChanging)\r\n                this._lengthChanging = this.length.changing.distinctUntilChanged();\r\n            return this._lengthChanging;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(PagedObservableListProjection.prototype, \"lengthChanged\", {\r\n        get: function () {\r\n            if (!this._lengthChanged)\r\n                this._lengthChanged = this.length.changed.distinctUntilChanged();\r\n            return this._lengthChanged;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    PagedObservableListProjection.prototype.wireUpChangeNotifications = function () {\r\n        var _this = this;\r\n        this.disp.add(this.source.itemsAdded.observeOn(this.scheduler).subscribe(function (e) {\r\n            // force immediate recalculation of length, pageCount etc.\r\n            _this.updateLengthTrigger.onNext(true);\r\n            _this.onItemsAdded(e);\r\n        }));\r\n        this.disp.add(this.source.itemsRemoved.observeOn(this.scheduler).subscribe(function (e) {\r\n            // force immediate recalculation of length, pageCount etc.\r\n            _this.updateLengthTrigger.onNext(true);\r\n            _this.onItemsRemoved(e);\r\n        }));\r\n        this.disp.add(this.source.itemsMoved.observeOn(this.scheduler).subscribe(function (e) {\r\n            _this.onItemsMoved(e);\r\n        }));\r\n        this.disp.add(this.source.itemReplaced.observeOn(this.scheduler).subscribe(function (e) {\r\n            _this.onItemsReplaced(e);\r\n        }));\r\n        this.disp.add(this.source.shouldReset.observeOn(this.scheduler).subscribe(function (e) {\r\n            // force immediate recalculation of length, pageCount etc.\r\n            _this.updateLengthTrigger.onNext(true);\r\n            _this.publishBeforeResetNotification();\r\n            _this.publishResetNotification();\r\n        }));\r\n        this.disp.add(Utils_1.whenAny(this.pageSize, this.currentPage, function (ps, cp) { return true; }).observeOn(this.scheduler).subscribe(function (e) {\r\n            _this.publishBeforeResetNotification();\r\n            _this.publishResetNotification();\r\n        }));\r\n    };\r\n    PagedObservableListProjection.prototype.getPageRange = function () {\r\n        var from = this.currentPage() * this.pageSize();\r\n        var result = { from: from, to: from + this.length() };\r\n        return result;\r\n    };\r\n    PagedObservableListProjection.prototype.publishResetNotification = function () {\r\n        this.resetSubject.onNext(true);\r\n    };\r\n    PagedObservableListProjection.prototype.publishBeforeResetNotification = function () {\r\n        this.beforeResetSubject.onNext(true);\r\n    };\r\n    PagedObservableListProjection.prototype.onItemsAdded = function (e) {\r\n        var page = this.getPageRange();\r\n        // items added beneath the window can be ignored\r\n        if (e.from > page.to)\r\n            return;\r\n        // adding items before the window results in a reset\r\n        if (e.from < page.from) {\r\n            this.publishBeforeResetNotification();\r\n            this.publishResetNotification();\r\n        }\r\n        else {\r\n            // compute relative start index\r\n            var from = e.from - page.from;\r\n            var numItems = Math.min(this.length() - from, e.items.length);\r\n            // limit items\r\n            var items = e.items.length !== numItems ? e.items.slice(0, numItems) : e.items;\r\n            // emit translated notifications\r\n            var er = { from: from, items: items };\r\n            if (this.beforeItemsAddedSubject.isValueCreated)\r\n                this.beforeItemsAddedSubject.value.onNext(er);\r\n            if (this.itemsAddedSubject.isValueCreated)\r\n                this.itemsAddedSubject.value.onNext(er);\r\n        }\r\n    };\r\n    PagedObservableListProjection.prototype.onItemsRemoved = function (e) {\r\n        var page = this.getPageRange();\r\n        // items added beneath the window can be ignored\r\n        if (e.from > page.to)\r\n            return;\r\n        // adding items before the window results in a reset\r\n        if (e.from < page.from) {\r\n            this.publishBeforeResetNotification();\r\n            this.publishResetNotification();\r\n        }\r\n        else {\r\n            // compute relative start index\r\n            var from = e.from - page.from;\r\n            var numItems = Math.min(this.length() - from, e.items.length);\r\n            // limit items\r\n            var items = e.items.length !== numItems ? e.items.slice(0, numItems) : e.items;\r\n            // emit translated notifications\r\n            var er = { from: from, items: items };\r\n            if (this.beforeItemsRemovedSubject.isValueCreated)\r\n                this.beforeItemsRemovedSubject.value.onNext(er);\r\n            if (this.itemsRemovedSubject.isValueCreated)\r\n                this.itemsRemovedSubject.value.onNext(er);\r\n        }\r\n    };\r\n    PagedObservableListProjection.prototype.onItemsMoved = function (e) {\r\n        var page = this.getPageRange();\r\n        var from = 0, to = 0;\r\n        var er;\r\n        // a move completely above or below the window should be ignored\r\n        if (e.from >= page.to && e.to >= page.to ||\r\n            e.from < page.from && e.to < page.from) {\r\n            return;\r\n        }\r\n        // from-index inside page?\r\n        if (e.from >= page.from && e.from < page.to) {\r\n            // to-index as well?\r\n            if (e.to >= page.from && e.to < page.to) {\r\n                // item was moved inside the page\r\n                from = e.from - page.from;\r\n                to = e.to - page.from;\r\n                er = { from: from, to: to, items: e.items };\r\n                if (this.beforeItemsMovedSubject.isValueCreated)\r\n                    this.beforeItemsMovedSubject.value.onNext(er);\r\n                if (this.itemsMovedSubject.isValueCreated)\r\n                    this.itemsMovedSubject.value.onNext(er);\r\n                return;\r\n            }\r\n            else if (e.to >= page.to) {\r\n                // item was moved out of the page somewhere below window\r\n                var lastValidIndex = this.length() - 1;\r\n                // generate removed notification\r\n                from = e.from - page.from;\r\n                if (from !== lastValidIndex) {\r\n                    er = { from: from, items: e.items };\r\n                    if (this.beforeItemsRemovedSubject.isValueCreated)\r\n                        this.beforeItemsRemovedSubject.value.onNext(er);\r\n                    if (this.itemsRemovedSubject.isValueCreated)\r\n                        this.itemsRemovedSubject.value.onNext(er);\r\n                    // generate fake-add notification for last item in page\r\n                    from = this.length() - 1;\r\n                    er = { from: from, items: [this.get(from)] };\r\n                    if (this.beforeItemsAddedSubject.isValueCreated)\r\n                        this.beforeItemsAddedSubject.value.onNext(er);\r\n                    if (this.itemsAddedSubject.isValueCreated)\r\n                        this.itemsAddedSubject.value.onNext(er);\r\n                }\r\n                else {\r\n                    // generate fake-replace notification for last item in page\r\n                    from = this.length() - 1;\r\n                    er = { from: from, items: [this.get(from)] };\r\n                    if (this.beforeItemReplacedSubject.isValueCreated)\r\n                        this.beforeItemReplacedSubject.value.onNext(er);\r\n                    if (this.itemReplacedSubject.isValueCreated)\r\n                        this.itemReplacedSubject.value.onNext(er);\r\n                }\r\n                return;\r\n            }\r\n        }\r\n        // reset in all other cases\r\n        this.publishBeforeResetNotification();\r\n        this.publishResetNotification();\r\n    };\r\n    PagedObservableListProjection.prototype.onItemsReplaced = function (e) {\r\n        var page = this.getPageRange();\r\n        // items replaced outside the window can be ignored\r\n        if (e.from > page.to || e.from < page.from)\r\n            return;\r\n        // compute relative start index\r\n        var from = e.from - page.from;\r\n        // emit translated notifications\r\n        var er = { from: from, items: e.items };\r\n        if (this.beforeItemReplacedSubject.isValueCreated)\r\n            this.beforeItemReplacedSubject.value.onNext(er);\r\n        if (this.itemReplacedSubject.isValueCreated)\r\n            this.itemReplacedSubject.value.onNext(er);\r\n    };\r\n    return PagedObservableListProjection;\r\n}());\r\nexports.PagedObservableListProjection = PagedObservableListProjection;\r\n//# sourceMappingURL=ListPaged.js.map\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./build/src/es5/Collections/ListPaged.js\n ** module id = 14\n ** module chunks = 0\n **/","/// <reference path=\"../Interfaces.ts\" />\r\n\"use strict\";\r\nvar List_1 = require(\"./List\");\r\nvar ListPaged_1 = require(\"./ListPaged\");\r\n\"use strict\";\r\n/**\r\n* Determines if target is an instance of a IObservableList\r\n* @param {any} target The object to test\r\n*/\r\nfunction isList(target) {\r\n    if (target == null)\r\n        return false;\r\n    return target instanceof List_1.ObservableList ||\r\n        target instanceof ListPaged_1.PagedObservableListProjection;\r\n}\r\nexports.isList = isList;\r\n//# sourceMappingURL=ListSupport.js.map\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./build/src/es5/Collections/ListSupport.js\n ** module id = 15\n ** module chunks = 0\n **/","/// <reference path=\"../../node_modules/typescript/lib/lib.es6.d.ts\" />\r\n/// <reference path=\"../Interfaces.ts\" />\r\n\"use strict\";\r\n\"use strict\";\r\n/**\r\n* ES6 Map Shim\r\n* @class\r\n*/\r\nvar MapEmulated = (function () {\r\n    function MapEmulated() {\r\n        ////////////////////\r\n        /// Implementation\r\n        this.cacheSentinel = {};\r\n        this.keys = [];\r\n        this.values = [];\r\n        this.cache = this.cacheSentinel;\r\n    }\r\n    Object.defineProperty(MapEmulated.prototype, \"size\", {\r\n        ////////////////////\r\n        /// IMap\r\n        get: function () {\r\n            return this.keys.length;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    MapEmulated.prototype.has = function (key) {\r\n        if (key === this.cache) {\r\n            return true;\r\n        }\r\n        if (this.find(key) >= 0) {\r\n            this.cache = key;\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    MapEmulated.prototype.get = function (key) {\r\n        var index = this.find(key);\r\n        if (index >= 0) {\r\n            this.cache = key;\r\n            return this.values[index];\r\n        }\r\n        return undefined;\r\n    };\r\n    MapEmulated.prototype.set = function (key, value) {\r\n        this.delete(key);\r\n        this.keys.push(key);\r\n        this.values.push(value);\r\n        this.cache = key;\r\n        return this;\r\n    };\r\n    MapEmulated.prototype.delete = function (key) {\r\n        var index = this.find(key);\r\n        if (index >= 0) {\r\n            this.keys.splice(index, 1);\r\n            this.values.splice(index, 1);\r\n            this.cache = this.cacheSentinel;\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    MapEmulated.prototype.clear = function () {\r\n        this.keys.length = 0;\r\n        this.values.length = 0;\r\n        this.cache = this.cacheSentinel;\r\n    };\r\n    MapEmulated.prototype.forEach = function (callback, thisArg) {\r\n        var size = this.size;\r\n        for (var i = 0; i < size; ++i) {\r\n            var key = this.keys[i];\r\n            var value = this.values[i];\r\n            this.cache = key;\r\n            callback.call(this, value, key, this);\r\n        }\r\n    };\r\n    Object.defineProperty(MapEmulated.prototype, \"isEmulated\", {\r\n        get: function () {\r\n            return true;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    MapEmulated.prototype.find = function (key) {\r\n        var keys = this.keys;\r\n        var size = keys.length;\r\n        for (var i = 0; i < size; ++i) {\r\n            if (keys[i] === key) {\r\n                return i;\r\n            }\r\n        }\r\n        return -1;\r\n    };\r\n    return MapEmulated;\r\n}());\r\nfunction isFunction(o) {\r\n    return typeof o === 'function';\r\n}\r\nvar proto = (window != null && window[\"Map\"] !== undefined) ? Map.prototype : undefined;\r\nvar hasNativeSupport = window != null && isFunction(window[\"Map\"]) && isFunction(proto.forEach) &&\r\n    isFunction(proto.set) && isFunction(proto.clear) &&\r\n    isFunction(proto.delete) && isFunction(proto.has);\r\n/**\r\n* Creates a new WeakMap instance\r\n* @param {boolean} disableNativeSupport Force creation of an emulated implementation, regardless of browser native support.\r\n* @return {IWeakMap<TKey, T>} A new instance of a suitable IWeakMap implementation\r\n*/\r\nfunction createMap(disableNativeSupport) {\r\n    if (disableNativeSupport || !hasNativeSupport) {\r\n        return new MapEmulated();\r\n    }\r\n    return new Map();\r\n}\r\nexports.createMap = createMap;\r\n//# sourceMappingURL=Map.js.map\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./build/src/es5/Collections/Map.js\n ** module id = 16\n ** module chunks = 0\n **/","/// <reference path=\"../../node_modules/typescript/lib/lib.es6.d.ts\" />\r\n/// <reference path=\"../Interfaces.ts\" />\r\n\"use strict\";\r\nvar Oid_1 = require(\"../Core/Oid\");\r\n\"use strict\";\r\n/**\r\n* ES6 Set Shim\r\n* @class\r\n*/\r\nvar SetEmulated = (function () {\r\n    function SetEmulated() {\r\n        ////////////////////\r\n        /// Implementation\r\n        this.values = [];\r\n        this.keys = {};\r\n    }\r\n    ////////////////////\r\n    /// ISet\r\n    SetEmulated.prototype.add = function (value) {\r\n        var key = Oid_1.getOid(value);\r\n        if (!this.keys[key]) {\r\n            this.values.push(value);\r\n            this.keys[key] = true;\r\n        }\r\n        return this;\r\n    };\r\n    SetEmulated.prototype.delete = function (value) {\r\n        var key = Oid_1.getOid(value);\r\n        if (this.keys[key]) {\r\n            var index = this.values.indexOf(value);\r\n            this.values.splice(index, 1);\r\n            delete this.keys[key];\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    SetEmulated.prototype.has = function (value) {\r\n        var key = Oid_1.getOid(value);\r\n        return this.keys.hasOwnProperty(key);\r\n    };\r\n    SetEmulated.prototype.clear = function () {\r\n        this.keys = {};\r\n        this.values.length = 0;\r\n    };\r\n    SetEmulated.prototype.forEach = function (callback, thisArg) {\r\n        this.values.forEach(callback, thisArg);\r\n    };\r\n    Object.defineProperty(SetEmulated.prototype, \"size\", {\r\n        get: function () {\r\n            return this.values.length;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(SetEmulated.prototype, \"isEmulated\", {\r\n        get: function () {\r\n            return true;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return SetEmulated;\r\n}());\r\nfunction isFunction(o) {\r\n    return typeof o === 'function';\r\n}\r\nvar proto = (window != null && window[\"Set\"] !== undefined) ? Set.prototype : undefined;\r\nvar hasNativeSupport = window != null && isFunction(window[\"Set\"]) && isFunction(proto.forEach) &&\r\n    isFunction(proto.add) && isFunction(proto.clear) &&\r\n    isFunction(proto.delete) && isFunction(proto.has);\r\n/**\r\n* Creates a new Set instance\r\n* @param {boolean} disableNativeSupport Force creation of an emulated implementation, regardless of browser native support.\r\n* @return {ISet<T>} A new instance of a suitable ISet implementation\r\n*/\r\nfunction createSet(disableNativeSupport) {\r\n    if (disableNativeSupport || !hasNativeSupport) {\r\n        return new SetEmulated();\r\n    }\r\n    return new Set();\r\n}\r\nexports.createSet = createSet;\r\n/**\r\n* Extracts the values of a Set by invoking its forEach method and capturing the output\r\n*/\r\nfunction setToArray(src) {\r\n    var result = new Array();\r\n    src.forEach(function (x) { return result.push(x); });\r\n    return result;\r\n}\r\nexports.setToArray = setToArray;\r\n//# sourceMappingURL=Set.js.map\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./build/src/es5/Collections/Set.js\n ** module id = 17\n ** module chunks = 0\n **/","/// <reference path=\"../../node_modules/typescript/lib/lib.es6.d.ts\" />\r\n/// <reference path=\"../Interfaces.ts\" />\r\n\"use strict\";\r\nvar Oid_1 = require(\"../Core/Oid\");\r\n\"use strict\";\r\n/**\r\n* This class emulates the semantics of a WeakMap.\r\n* Even though this implementation is indeed \"weak\", it has the drawback of\r\n* requiring manual housekeeping of entries otherwise they are kept forever.\r\n* @class\r\n*/\r\nvar WeakMapEmulated = (function () {\r\n    function WeakMapEmulated() {\r\n        ////////////////////\r\n        /// Implementation\r\n        this.inner = {};\r\n    }\r\n    ////////////////////\r\n    /// IWeakMap\r\n    WeakMapEmulated.prototype.set = function (key, value) {\r\n        var oid = Oid_1.getOid(key);\r\n        this.inner[oid] = value;\r\n    };\r\n    WeakMapEmulated.prototype.get = function (key) {\r\n        var oid = Oid_1.getOid(key);\r\n        return this.inner[oid];\r\n    };\r\n    WeakMapEmulated.prototype.has = function (key) {\r\n        var oid = Oid_1.getOid(key);\r\n        return this.inner.hasOwnProperty(oid);\r\n    };\r\n    WeakMapEmulated.prototype.delete = function (key) {\r\n        var oid = Oid_1.getOid(key);\r\n        return delete this.inner[oid];\r\n    };\r\n    Object.defineProperty(WeakMapEmulated.prototype, \"isEmulated\", {\r\n        get: function () {\r\n            return true;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return WeakMapEmulated;\r\n}());\r\nfunction isFunction(o) {\r\n    return typeof o === 'function';\r\n}\r\nvar proto = (window != null && window[\"WeakMap\"] !== undefined) ? WeakMap.prototype : undefined;\r\nvar hasNativeSupport = window != null && isFunction(window[\"WeakMap\"]) &&\r\n    isFunction(proto.set) && isFunction(proto.get) &&\r\n    isFunction(proto.delete) && isFunction(proto.has);\r\n/**\r\n* Creates a new WeakMap instance\r\n* @param {boolean} disableNativeSupport Force creation of an emulated implementation, regardless of browser native support.\r\n* @return {IWeakMap<TKey, T>} A new instance of a suitable IWeakMap implementation\r\n*/\r\nfunction createWeakMap(disableNativeSupport) {\r\n    if (disableNativeSupport || !hasNativeSupport) {\r\n        return new WeakMapEmulated();\r\n    }\r\n    return new WeakMap();\r\n}\r\nexports.createWeakMap = createWeakMap;\r\n//# sourceMappingURL=WeakMap.js.map\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./build/src/es5/Collections/WeakMap.js\n ** module id = 18\n ** module chunks = 0\n **/","\"use strict\";\r\n/**\r\n * Simple http client inspired by https://github.com/radiosilence/xr\r\n */\r\nvar HttpClient = (function () {\r\n    function HttpClient() {\r\n        this.config = {};\r\n    }\r\n    HttpClient.prototype.res = function (xhr) {\r\n        return {\r\n            status: xhr.status,\r\n            response: xhr.response,\r\n            xhr: xhr\r\n        };\r\n    };\r\n    HttpClient.prototype.assign = function (l) {\r\n        var rs = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            rs[_i - 1] = arguments[_i];\r\n        }\r\n        for (var i in rs) {\r\n            if (!{}.hasOwnProperty.call(rs, i))\r\n                continue;\r\n            var r = rs[i];\r\n            if (typeof r !== 'object')\r\n                continue;\r\n            for (var k in r) {\r\n                if (!{}.hasOwnProperty.call(r, k))\r\n                    continue;\r\n                l[k] = r[k];\r\n            }\r\n        }\r\n        return l;\r\n    };\r\n    HttpClient.prototype.promise = function (args, fn) {\r\n        return ((args && args.promise)\r\n            ? args.promise\r\n            : (this.config.promise || HttpClient.defaults.promise))(fn);\r\n    };\r\n    HttpClient.prototype.configure = function (opts) {\r\n        this.config = this.assign({}, this.config, opts);\r\n    };\r\n    HttpClient.prototype.request = function (options) {\r\n        var _this = this;\r\n        return this.promise(options, function (resolve, reject) {\r\n            var opts = _this.assign({}, HttpClient.defaults, _this.config, options);\r\n            var xhr = opts.xmlHttpRequest();\r\n            if (typeof opts.url !== \"string\" || opts.url.length === 0)\r\n                reject(new Error(\"HttpClient: Please provide a request url\"));\r\n            if (!HttpClient.Methods.hasOwnProperty(opts.method.toUpperCase()))\r\n                reject(new Error(\"HttpClient: Unrecognized http-method: \" + opts.method));\r\n            var requestUrl = opts.url;\r\n            if (opts.params) {\r\n                requestUrl += requestUrl.indexOf('?') !== -1 ? (requestUrl[requestUrl.length - 1] != '&' ? '&' : '') : '?';\r\n                // append request parameters\r\n                requestUrl += Object.getOwnPropertyNames(opts.params).map(function (x) { return (x + \"=\" + opts.params[x]); }).join('&');\r\n            }\r\n            xhr.open(opts.method.toUpperCase(), requestUrl, true);\r\n            xhr.addEventListener(HttpClient.Events.LOAD, function () {\r\n                if (xhr.status >= 200 && xhr.status < 300) {\r\n                    var data_1 = null;\r\n                    if (xhr.responseText) {\r\n                        data_1 = opts.raw === true\r\n                            ? xhr.responseText : opts.load(xhr.responseText);\r\n                    }\r\n                    resolve(data_1);\r\n                }\r\n                else {\r\n                    reject(_this.res(xhr));\r\n                }\r\n            });\r\n            xhr.addEventListener(HttpClient.Events.ABORT, function () { return reject(_this.res(xhr)); });\r\n            xhr.addEventListener(HttpClient.Events.ERROR, function () { return reject(_this.res(xhr)); });\r\n            xhr.addEventListener(HttpClient.Events.TIMEOUT, function () { return reject(_this.res(xhr)); });\r\n            for (var k in opts.headers) {\r\n                if (!{}.hasOwnProperty.call(opts.headers, k))\r\n                    continue;\r\n                xhr.setRequestHeader(k, opts.headers[k]);\r\n            }\r\n            for (var k in opts.events) {\r\n                if (!{}.hasOwnProperty.call(opts.events, k))\r\n                    continue;\r\n                xhr.addEventListener(k, opts.events[k].bind(null, xhr), false);\r\n            }\r\n            var data = (typeof opts.data === 'object' && !opts.raw)\r\n                ? opts.dump(opts.data)\r\n                : opts.data;\r\n            if (data !== undefined)\r\n                xhr.send(data);\r\n            else\r\n                xhr.send();\r\n        });\r\n    };\r\n    HttpClient.prototype.get = function (url, params, options) {\r\n        var opts = { url: url, method: HttpClient.Methods.GET, params: params };\r\n        return this.request(this.assign(opts, options));\r\n    };\r\n    HttpClient.prototype.put = function (url, data, options) {\r\n        var opts = { url: url, method: HttpClient.Methods.PUT, data: data };\r\n        return this.request(this.assign(opts, options));\r\n    };\r\n    HttpClient.prototype.post = function (url, data, options) {\r\n        var opts = { url: url, method: HttpClient.Methods.POST, data: data };\r\n        return this.request(this.assign(opts, options));\r\n    };\r\n    HttpClient.prototype.patch = function (url, data, options) {\r\n        var opts = { url: url, method: HttpClient.Methods.PATCH, data: data };\r\n        return this.request(this.assign(opts, options));\r\n    };\r\n    HttpClient.prototype.delete = function (url, options) {\r\n        var opts = { url: url, method: HttpClient.Methods.DELETE };\r\n        return this.request(this.assign(opts, options));\r\n    };\r\n    HttpClient.prototype.options = function (url, options) {\r\n        var opts = { url: url, method: HttpClient.Methods.OPTIONS };\r\n        return this.request(this.assign(opts, options));\r\n    };\r\n    HttpClient.Methods = {\r\n        GET: 'get',\r\n        POST: 'post',\r\n        PUT: 'put',\r\n        DELETE: 'delete',\r\n        PATCH: 'patch',\r\n        OPTIONS: 'options'\r\n    };\r\n    HttpClient.Events = {\r\n        READY_STATE_CHANGE: 'readystatechange',\r\n        LOAD_START: 'loadstart',\r\n        PROGRESS: 'progress',\r\n        ABORT: 'abort',\r\n        ERROR: 'error',\r\n        LOAD: 'load',\r\n        TIMEOUT: 'timeout',\r\n        LOAD_END: 'loadend'\r\n    };\r\n    HttpClient.defaults = {\r\n        method: HttpClient.Methods.GET,\r\n        data: undefined,\r\n        headers: {\r\n            'Accept': 'application/json',\r\n            'Content-Type': 'application/json'\r\n        },\r\n        dump: JSON.stringify,\r\n        load: JSON.parse,\r\n        xmlHttpRequest: function () { return new XMLHttpRequest(); },\r\n        promise: function (fn) { return new Promise(fn); }\r\n    };\r\n    return HttpClient;\r\n}());\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.default = HttpClient;\r\n/**\r\n* Provides editable configuration defaults for all newly created HttpClient instances.\r\n**/\r\nfunction getHttpClientDefaultConfig() {\r\n    return HttpClient.defaults;\r\n}\r\nexports.getHttpClientDefaultConfig = getHttpClientDefaultConfig;\r\n//# sourceMappingURL=HttpClient.js.map\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./build/src/es5/Core/HttpClient.js\n ** module id = 19\n ** module chunks = 0\n **/","/// <reference path=\"./Interfaces.ts\" />\r\n\"use strict\";\r\nvar Utils_1 = require(\"./Core/Utils\");\r\nvar IID_1 = require(\"./IID\");\r\nvar ScheduledSubject_1 = require(\"./Core/ScheduledSubject\");\r\nvar Injector_1 = require(\"./Core/Injector\");\r\nvar res = require(\"./Core/Resources\");\r\n\"use strict\";\r\nvar RxObsConstructor = Rx.Observable; // this hack is neccessary because the .d.ts for RxJs declares Observable as an interface)\r\n/**\r\n* Creates an read-only observable property with an optional default value from the current (this) observable\r\n* (Note: This is the equivalent to Knockout's ko.computed)\r\n* @param {T} initialValue? Optional initial value, valid until the observable produces a value\r\n*/\r\nfunction toProperty(initialValue, scheduler) {\r\n    scheduler = scheduler || Rx.Scheduler.currentThread;\r\n    // initialize accessor function (read-only)\r\n    var accessor = function propertyAccessor(newVal) {\r\n        if (arguments.length > 0) {\r\n            Utils_1.throwError(\"attempt to write to a read-only observable property\");\r\n        }\r\n        return accessor.value;\r\n    };\r\n    //////////////////////////////////\r\n    // IUnknown implementation\r\n    accessor.queryInterface = function (iid) {\r\n        return iid === IID_1.default.IObservableReadOnlyProperty || IID_1.default.IObservableProperty || iid === IID_1.default.IDisposable;\r\n    };\r\n    //////////////////////////////////\r\n    // IDisposable implementation\r\n    accessor.dispose = function () {\r\n        if (accessor.sub) {\r\n            accessor.sub.dispose();\r\n            accessor.sub = null;\r\n        }\r\n    };\r\n    //////////////////////////////////\r\n    // IObservableReadOnlyProperty<T> implementation\r\n    accessor.value = initialValue;\r\n    // setup observables\r\n    accessor.changedSubject = new Rx.Subject();\r\n    accessor.changed = accessor.changedSubject.asObservable();\r\n    accessor.changingSubject = new Rx.Subject();\r\n    accessor.changing = accessor.changingSubject.asObservable();\r\n    accessor.source = this;\r\n    accessor.thrownExceptions = ScheduledSubject_1.createScheduledSubject(scheduler, Injector_1.injector.get(res.app).defaultExceptionHandler);\r\n    accessor.catchExceptions = function (onError) {\r\n        accessor.thrownExceptions.subscribe(function (e) {\r\n            onError(e);\r\n        });\r\n        return accessor;\r\n    };\r\n    //////////////////////////////////\r\n    // implementation\r\n    var firedInitial = false;\r\n    accessor.sub = this\r\n        .distinctUntilChanged()\r\n        .subscribe(function (x) {\r\n        // Suppress a non-change between initialValue and the first value\r\n        // from a Subscribe\r\n        if (firedInitial && x === accessor.value) {\r\n            return;\r\n        }\r\n        firedInitial = true;\r\n        accessor.changingSubject.onNext(x);\r\n        accessor.value = x;\r\n        accessor.changedSubject.onNext(x);\r\n    }, function (x) { return accessor.thrownExceptions.onNext(x); });\r\n    return accessor;\r\n}\r\nRxObsConstructor.prototype.toProperty = toProperty;\r\nRxObsConstructor.prototype.continueWith = function () {\r\n    var args = Utils_1.args2Array(arguments);\r\n    var val = args.shift();\r\n    var obs = undefined;\r\n    if (Utils_1.isRxObservable(val)) {\r\n        obs = val;\r\n    }\r\n    else if (Utils_1.isFunction(val)) {\r\n        var action = val;\r\n        obs = Rx.Observable.startDeferred(action);\r\n    }\r\n    return this.selectMany(function (_) { return obs; });\r\n};\r\nfunction invokeCommand(command) {\r\n    // see the ReactiveUI project for the inspiration behind this function:\r\n    // https://github.com/reactiveui/ReactiveUI/blob/master/ReactiveUI/ReactiveCommand.cs#L511\r\n    return this\r\n        .select(function (x) { return ({\r\n        parameter: x,\r\n        command: (command instanceof Function ? command() : command)\r\n    }); })\r\n        .debounce(function (x) { return x.command.canExecuteObservable.startWith(x.command.canExecute(x.parameter)).where(function (b) { return b; }).select(function (x) { return 0; }); })\r\n        .select(function (x) { return x.command.executeAsync(x.parameter).catch(Rx.Observable.empty()); })\r\n        .switch()\r\n        .subscribe();\r\n}\r\nRxObsConstructor.prototype.invokeCommand = invokeCommand;\r\nRxObsConstructor.startDeferred = function (action) {\r\n    return Rx.Observable.defer(function () {\r\n        return Rx.Observable.create(function (observer) {\r\n            var cancelled = false;\r\n            if (!cancelled)\r\n                action();\r\n            observer.onNext(undefined);\r\n            observer.onCompleted();\r\n            return Rx.Disposable.create(function () { return cancelled = true; });\r\n        });\r\n    });\r\n};\r\nfunction install() {\r\n    // deliberately left blank\r\n}\r\nexports.install = install;\r\n//# sourceMappingURL=RxExtensions.js.map\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./build/src/es5/RxExtensions.js\n ** module id = 20\n ** module chunks = 0\n **/","/// <reference path=\"../Interfaces.ts\" />\r\n\"use strict\";\r\nvar ScheduledSubject_1 = require(\"./../Core/ScheduledSubject\");\r\n// ReactiveUI's MessageBus\r\n\"use strict\";\r\nvar MessageBus = (function () {\r\n    function MessageBus() {\r\n        //////////////////////////////////\r\n        // Implementation\r\n        this.messageBus = {};\r\n        this.schedulerMappings = {};\r\n    }\r\n    //////////////////////////////////\r\n    // IMessageBus\r\n    MessageBus.prototype.listen = function (contract) {\r\n        return this.setupSubjectIfNecessary(contract).skip(1);\r\n    };\r\n    MessageBus.prototype.isRegistered = function (contract) {\r\n        return this.messageBus.hasOwnProperty(contract);\r\n    };\r\n    MessageBus.prototype.registerMessageSource = function (source, contract) {\r\n        return source.subscribe(this.setupSubjectIfNecessary(contract));\r\n    };\r\n    MessageBus.prototype.sendMessage = function (message, contract) {\r\n        this.setupSubjectIfNecessary(contract).onNext(message);\r\n    };\r\n    MessageBus.prototype.registerScheduler = function (scheduler, contract) {\r\n        this.schedulerMappings[contract] = scheduler;\r\n    };\r\n    MessageBus.prototype.setupSubjectIfNecessary = function (contract) {\r\n        var ret = this.messageBus[contract];\r\n        if (ret == null) {\r\n            ret = ScheduledSubject_1.createScheduledSubject(this.getScheduler(contract), null, new Rx.BehaviorSubject(undefined));\r\n            this.messageBus[contract] = ret;\r\n        }\r\n        return ret;\r\n    };\r\n    MessageBus.prototype.getScheduler = function (contract) {\r\n        var scheduler = this.schedulerMappings[contract];\r\n        return scheduler || Rx.Scheduler.currentThread;\r\n    };\r\n    return MessageBus;\r\n}());\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.default = MessageBus;\r\n//# sourceMappingURL=MessageBus.js.map\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./build/src/es5/Core/MessageBus.js\n ** module id = 21\n ** module chunks = 0\n **/"],"sourceRoot":""}